{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\wesle\\\\OneDrive - KU Leuven\\\\Desktop\\\\Iceland\\\\my-iceland-trip-website\\\\src\\\\components\\\\iceland-trip\\\\EnhancedWeatherWidget.js\",\n  _s = $RefreshSig$();\n// src/components/iceland-trip/EnhancedWeatherWidget.js\nimport React, { useState, useEffect, useRef } from 'react';\nimport { CloudSnow, Wind, Droplets, Thermometer, Sun, Sunset, Eye, CloudRain, Clock, ArrowDown, ArrowUp, Compass, Gauge, Navigation, RefreshCw, Info, AlertTriangle } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EnhancedWeatherWidget = ({\n  theme\n}) => {\n  _s();\n  const [currentWeather, setCurrentWeather] = useState(null);\n  const [forecast, setForecast] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [activeHourlyPage, setActiveHourlyPage] = useState(0);\n  const [activeTab, setActiveTab] = useState('current'); // 'current', 'hourly', 'daily'\n  const [lastUpdated, setLastUpdated] = useState(null);\n  const [animateRefresh, setAnimateRefresh] = useState(false);\n  const [animateTemperature, setAnimateTemperature] = useState(false);\n  const [showTooltip, setShowTooltip] = useState(null);\n\n  // 用於溫度變化動畫的ref\n  const prevTempRef = useRef(null);\n  const tempChangeRef = useRef(null);\n\n  // 主要冰島旅遊地點\n  const travelLocations = [{\n    name: \"雷克雅維克\",\n    lat: 64.1466,\n    lon: -21.9426\n  }, {\n    name: \"教會山\",\n    lat: 64.927,\n    lon: -23.308\n  }, {\n    name: \"黃金圈\",\n    lat: 64.255,\n    lon: -21.130\n  }, {\n    name: \"藍湖\",\n    lat: 63.880,\n    lon: -22.449\n  }, {\n    name: \"冰河湖\",\n    lat: 64.047,\n    lon: -16.181\n  }];\n  const [selectedLocation, setSelectedLocation] = useState(travelLocations[0]);\n\n  // 監視地點變化，獲取數據\n  useEffect(() => {\n    fetchWeatherData();\n  }, [selectedLocation]);\n\n  // 設置溫度動畫效果\n  useEffect(() => {\n    if (currentWeather && prevTempRef.current !== null) {\n      const currentTemp = Math.round(currentWeather.main.temp);\n      if (prevTempRef.current !== currentTemp) {\n        setAnimateTemperature(true);\n        tempChangeRef.current = currentTemp > prevTempRef.current ? 'up' : 'down';\n\n        // 動畫結束後重置\n        const timer = setTimeout(() => {\n          setAnimateTemperature(false);\n        }, 1000);\n        return () => clearTimeout(timer);\n      }\n    }\n    if (currentWeather) {\n      prevTempRef.current = Math.round(currentWeather.main.temp);\n    }\n  }, [currentWeather]);\n  const fetchWeatherData = async () => {\n    try {\n      setLoading(true);\n      setAnimateRefresh(true); // 啟動刷新按鈕動畫\n\n      const apiKey = process.env.REACT_APP_OPENWEATHER_API_KEY;\n\n      // 使用當前天氣 API (免費可用)\n      const currentRes = await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${selectedLocation.lat}&lon=${selectedLocation.lon}&units=metric&appid=${apiKey}`);\n\n      // 使用 5-day/3-hour forecast API (免費可用)\n      const forecastRes = await fetch(`https://api.openweathermap.org/data/2.5/forecast?lat=${selectedLocation.lat}&lon=${selectedLocation.lon}&units=metric&appid=${apiKey}`);\n      if (!currentRes.ok) {\n        console.error(\"Current weather API failed:\", currentRes.status, currentRes.statusText);\n        throw new Error(`Current weather API error: ${currentRes.status}`);\n      }\n      if (!forecastRes.ok) {\n        console.error(\"Forecast API failed:\", forecastRes.status, forecastRes.statusText);\n        throw new Error(`Forecast API error: ${forecastRes.status}`);\n      }\n      const currentData = await currentRes.json();\n      const forecastData = await forecastRes.json();\n\n      // 處理當前天氣數據\n      setCurrentWeather({\n        ...currentData,\n        main: {\n          ...currentData.main,\n          sunrise: currentData.sys.sunrise,\n          sunset: currentData.sys.sunset,\n          visibility: currentData.visibility\n        }\n      });\n\n      // 處理小時預報 (取前 24 小時 / 8 個時間點)\n      const hourlyForecast = forecastData.list.slice(0, 8).map(item => ({\n        dt: item.dt,\n        temp: item.main.temp,\n        feels_like: item.main.feels_like,\n        humidity: item.main.humidity,\n        weather: item.weather,\n        pop: item.pop || 0,\n        // 降水概率\n        wind_speed: item.wind.speed\n      }));\n\n      // 處理日預報 (每天取中午的預報作為代表)\n      const dailyForecast = [];\n      const groupedByDay = {};\n\n      // 以日期為鍵分組\n      forecastData.list.forEach(item => {\n        const date = new Date(item.dt * 1000).toLocaleDateString();\n        if (!groupedByDay[date]) {\n          groupedByDay[date] = [];\n        }\n        groupedByDay[date].push(item);\n      });\n\n      // 每天取中午的預報\n      Object.entries(groupedByDay).forEach(([date, items], index) => {\n        if (index < 5) {\n          // 最多取 5 天 (API 限制)\n          // 尋找最接近中午的預報\n          const noon = new Date(date);\n          noon.setHours(12, 0, 0, 0);\n          const noonTimestamp = noon.getTime() / 1000;\n\n          // 找到最接近中午的預報\n          const closestToDayItem = items.reduce((prev, curr) => {\n            return Math.abs(curr.dt - noonTimestamp) < Math.abs(prev.dt - noonTimestamp) ? curr : prev;\n          }, items[0]);\n\n          // 計算溫度範圍\n          const temps = items.map(item => item.main.temp);\n          const maxTemp = Math.max(...temps);\n          const minTemp = Math.min(...temps);\n\n          // 計算最大降水概率\n          const maxPop = Math.max(...items.map(item => item.pop || 0));\n          dailyForecast.push({\n            dt: closestToDayItem.dt,\n            temp: {\n              day: closestToDayItem.main.temp,\n              min: minTemp,\n              max: maxTemp\n            },\n            weather: closestToDayItem.weather,\n            pop: maxPop,\n            // 使用當天最大降水概率\n            wind_speed: closestToDayItem.wind.speed\n          });\n        }\n      });\n      setForecast({\n        hourly: hourlyForecast,\n        daily: dailyForecast\n      });\n      setLastUpdated(new Date());\n      setError(null);\n    } catch (err) {\n      console.error(\"Failed to fetch weather data:\", err);\n      setError(`無法獲取天氣數據: ${err.message}`);\n    } finally {\n      setLoading(false);\n\n      // 延遲重置刷新動畫，讓動畫能完整播放\n      setTimeout(() => {\n        setAnimateRefresh(false);\n      }, 800);\n    }\n  };\n\n  // 輔助函數\n\n  // 取得天氣圖示並添加動畫效果\n  const getWeatherIcon = iconCode => {\n    return `https://openweathermap.org/img/wn/${iconCode}@2x.png`;\n  };\n\n  // 根據天氣狀況獲取動畫效果類名\n  const getWeatherAnimationClass = iconCode => {\n    if (!iconCode) return '';\n\n    // 下雨\n    if (iconCode.includes('09') || iconCode.includes('10')) {\n      return 'animate-rain';\n    }\n    // 下雪\n    else if (iconCode.includes('13')) {\n      return 'animate-snow';\n    }\n    // 雷雨\n    else if (iconCode.includes('11')) {\n      return 'animate-thunder';\n    }\n    // 霧\n    else if (iconCode.includes('50')) {\n      return 'animate-mist';\n    }\n    // 多雲\n    else if (iconCode.includes('02') || iconCode.includes('03') || iconCode.includes('04')) {\n      return 'animate-cloud';\n    }\n    // 晴天\n    else if (iconCode.includes('01')) {\n      return 'animate-sun';\n    }\n    return '';\n  };\n\n  // 格式化時間 (Unix timestamp)\n  const formatTime = timestamp => {\n    const date = new Date(timestamp * 1000);\n    return date.toLocaleTimeString('zh-TW', {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  // 格式化日期 (Unix timestamp)\n  const formatDay = timestamp => {\n    const date = new Date(timestamp * 1000);\n    const days = ['週日', '週一', '週二', '週三', '週四', '週五', '週六'];\n    return days[date.getDay()];\n  };\n\n  // 取得風向文字\n  const getWindDirection = deg => {\n    const directions = ['北', '東北', '東', '東南', '南', '西南', '西', '西北'];\n    return directions[Math.round(deg / 45) % 8];\n  };\n\n  // 格式化上次更新時間\n  const formatLastUpdated = () => {\n    if (!lastUpdated) return '';\n    return `最後更新: ${lastUpdated.toLocaleTimeString('zh-TW')}`;\n  };\n\n  // 渲染當前天氣板塊\n  const renderCurrentWeather = () => {\n    if (!currentWeather) return null;\n    const weather = currentWeather.weather[0];\n    const main = currentWeather.main;\n    const wind = currentWeather.wind;\n    const isDarkMode = theme.darkMode;\n\n    // 天氣圖標動畫類名\n    const weatherAnimClass = getWeatherAnimationClass(weather.icon);\n\n    // 溫度變化動畫類名\n    const tempAnimClass = animateTemperature ? tempChangeRef.current === 'up' ? 'animate-temp-up' : 'animate-temp-down' : '';\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `relative w-20 h-20 ${weatherAnimClass}`,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: getWeatherIcon(weather.icon),\n              alt: weather.description,\n              className: \"w-full h-full\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `text-3xl font-bold transition-all duration-700 ${tempAnimClass}`,\n              children: [Math.round(main.temp), \"\\xB0C\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"capitalize\",\n              children: weather.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(ArrowUp, {\n              className: `h-4 w-4 ${theme.highlight} mr-1`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"mr-2\",\n              children: [Math.round(main.temp_max), \"\\xB0\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ArrowDown, {\n              className: `h-4 w-4 ${theme.highlight} mr-1`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [Math.round(main.temp_min), \"\\xB0\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm mt-1\",\n            children: [\"\\u9AD4\\u611F\\u6EAB\\u5EA6: \", Math.round(main.feels_like), \"\\xB0C\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 md:grid-cols-4 gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${theme.cardBg} p-3 rounded-lg transform transition hover:scale-105`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center mb-1\",\n            children: [/*#__PURE__*/_jsxDEV(Wind, {\n              className: `mr-1 h-4 w-4 ${theme.highlight}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm font-medium\",\n              children: \"\\u98A8\\u901F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [wind.speed, \" m/s\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(Navigation, {\n                className: `h-3 w-3 mr-1 ${theme.highlight} animate-wind-direction`,\n                style: {\n                  transform: `rotate(${wind.deg}deg)`,\n                  animationDuration: `${Math.max(2, 8 - wind.speed)}s` // 風速越大，動畫越快\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: getWindDirection(wind.deg)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${theme.cardBg} p-3 rounded-lg transform transition hover:scale-105`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center mb-1\",\n            children: [/*#__PURE__*/_jsxDEV(Droplets, {\n              className: `mr-1 h-4 w-4 ${theme.highlight} animate-bounce-slow`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm font-medium\",\n              children: \"\\u6FD5\\u5EA6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [main.humidity, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-16 h-2 bg-gray-200 rounded-full overflow-hidden\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `h-full ${isDarkMode ? 'bg-blue-400' : 'bg-blue-600'} transition-all duration-1000`,\n                style: {\n                  width: `${main.humidity}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${theme.cardBg} p-3 rounded-lg transform transition hover:scale-105`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center mb-1\",\n            children: [/*#__PURE__*/_jsxDEV(Gauge, {\n              className: `mr-1 h-4 w-4 ${theme.highlight} animate-pulse-slow`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm font-medium\",\n              children: \"\\u6C23\\u58D3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [main.pressure, \" hPa\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${theme.cardBg} p-3 rounded-lg transform transition hover:scale-105`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center mb-1\",\n            children: [/*#__PURE__*/_jsxDEV(Eye, {\n              className: `mr-1 h-4 w-4 ${theme.highlight}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm font-medium\",\n              children: \"\\u80FD\\u898B\\u5EA6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [(main.visibility / 1000).toFixed(1), \" km\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${theme.cardBg} p-3 rounded-lg transform transition hover:shadow-lg`,\n        onMouseEnter: () => setShowTooltip('sun'),\n        onMouseLeave: () => setShowTooltip(null),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(Sun, {\n              className: `mr-1 h-4 w-4 ${isDarkMode ? 'text-amber-300 animate-spin-slow' : 'text-amber-500 animate-spin-slow'}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm\",\n              children: [\"\\u65E5\\u51FA \", formatTime(main.sunrise)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(Sunset, {\n              className: `mr-1 h-4 w-4 ${isDarkMode ? 'text-orange-300' : 'text-orange-500'}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm\",\n              children: [\"\\u65E5\\u843D \", formatTime(main.sunset)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2 relative h-3 bg-gray-200 rounded-full overflow-hidden\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"h-full bg-gradient-to-r from-amber-400 via-yellow-300 to-orange-400 transition-all duration-1000\",\n            style: {\n              width: '100%'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 13\n          }, this), (() => {\n            const now = Math.floor(Date.now() / 1000);\n            const sunrise = main.sunrise;\n            const sunset = main.sunset;\n            const dayLength = sunset - sunrise;\n            const position = (now - sunrise) / dayLength * 100;\n\n            // 白天才顯示\n            if (now >= sunrise && now <= sunset) {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute top-0 w-1 h-3 bg-red-500\",\n                style: {\n                  left: `${position}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 19\n              }, this);\n            }\n            return null;\n          })()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 11\n        }, this), showTooltip === 'sun' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2 text-xs text-center opacity-70\",\n          children: [\"\\u767D\\u5929\\u6642\\u9593\\uFF1A\\u7D04 \", Math.round((main.sunset - main.sunrise) / 3600), \" \\u5C0F\\u6642\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 7\n    }, this);\n  };\n\n  // 渲染小時預報部分\n  const renderHourlyForecast = () => {\n    if (!forecast || !forecast.hourly) return null;\n    const ITEMS_PER_PAGE = 4;\n    const totalItems = forecast.hourly.length;\n    const totalPages = Math.ceil(totalItems / ITEMS_PER_PAGE);\n    const startIdx = activeHourlyPage * ITEMS_PER_PAGE;\n    const endIdx = Math.min(startIdx + ITEMS_PER_PAGE, totalItems);\n    const currentItems = forecast.hourly.slice(startIdx, endIdx);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium\",\n          children: \"\\u672A\\u4F86\\u9810\\u5831\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 11\n        }, this), totalPages > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveHourlyPage(prev => Math.max(0, prev - 1)),\n            disabled: activeHourlyPage === 0,\n            className: `p-1 rounded ${theme.darkMode ? 'text-white' : 'text-gray-600'} ${activeHourlyPage === 0 ? 'opacity-50 cursor-not-allowed' : 'hover:bg-gray-200'} transition transform active:scale-95`,\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              className: \"h-5 w-5\",\n              viewBox: \"0 0 20 20\",\n              fill: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fillRule: \"evenodd\",\n                d: \"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z\",\n                clipRule: \"evenodd\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm\",\n            children: [activeHourlyPage + 1, \"/\", totalPages]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveHourlyPage(prev => Math.min(totalPages - 1, prev + 1)),\n            disabled: activeHourlyPage === totalPages - 1,\n            className: `p-1 rounded ${theme.darkMode ? 'text-white' : 'text-gray-600'} ${activeHourlyPage === totalPages - 1 ? 'opacity-50 cursor-not-allowed' : 'hover:bg-gray-200'} transition transform active:scale-95`,\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              className: \"h-5 w-5\",\n              viewBox: \"0 0 20 20\",\n              fill: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fillRule: \"evenodd\",\n                d: \"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\",\n                clipRule: \"evenodd\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-4 gap-2\",\n        children: currentItems.map((hour, idx) => {\n          const weatherAnimClass = getWeatherAnimationClass(hour.weather[0].icon);\n          const precipChance = Math.round(hour.pop * 100);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${theme.cardBg} p-2 rounded-lg text-center transform transition duration-300 hover:scale-105 hover:shadow-md`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm font-medium\",\n              children: formatTime(hour.dt)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `w-10 h-10 mx-auto ${weatherAnimClass}`,\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: getWeatherIcon(hour.weather[0].icon),\n                alt: hour.weather[0].description,\n                className: \"w-full h-full\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-lg font-bold\",\n              children: [Math.round(hour.temp), \"\\xB0\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-center text-xs\",\n              style: {\n                opacity: precipChance > 0 ? 1 : 0.5\n              },\n              children: [/*#__PURE__*/_jsxDEV(CloudRain, {\n                className: `h-3 w-3 mr-1 ${precipChance > 30 ? 'animate-bounce-slow' : ''}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [precipChance, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 476,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 17\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 7\n    }, this);\n  };\n\n  // 渲染每日預報部分\n  const renderDailyForecast = () => {\n    if (!forecast || !forecast.daily) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-medium mb-2\",\n        children: \"\\u672A\\u4F86\\u4E94\\u5929\\u9810\\u5831\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 492,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-2\",\n        children: forecast.daily.map((day, idx) => {\n          const weatherAnimClass = getWeatherAnimationClass(day.weather[0].icon);\n          const precipChance = Math.round(day.pop * 100);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${theme.cardBg} p-3 rounded-lg flex items-center justify-between transform transition duration-300 hover:scale-102 hover:shadow-md`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-16\",\n                children: idx === 0 ? '今天' : formatDay(day.dt)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 505,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `w-10 h-10 ${weatherAnimClass}`,\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: getWeatherIcon(day.weather[0].icon),\n                  alt: day.weather[0].description,\n                  className: \"w-full h-full\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 509,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 508,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ml-1\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm capitalize\",\n                  children: day.weather[0].description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 516,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 515,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 504,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center\",\n                style: {\n                  opacity: precipChance > 0 ? 1 : 0.5\n                },\n                children: [/*#__PURE__*/_jsxDEV(CloudRain, {\n                  className: `h-4 w-4 mr-1 ${precipChance > 30 ? 'animate-bounce-slow' : ''}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 525,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [precipChance, \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 526,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 521,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-1\",\n                children: [/*#__PURE__*/_jsxDEV(ArrowDown, {\n                  className: `h-4 w-4 ${theme.darkMode ? 'text-blue-400' : 'text-blue-600'}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 529,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [Math.round(day.temp.min), \"\\xB0\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 530,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(ArrowUp, {\n                  className: `h-4 w-4 ${theme.darkMode ? 'text-red-400' : 'text-red-600'} ml-1`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 531,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [Math.round(day.temp.max), \"\\xB0\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 532,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 528,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 520,\n              columnNumber: 17\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 491,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `mb-6 ${theme.cardBg} rounded-xl p-4 ${theme.cardBorder} transition-all duration-300`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(CloudSnow, {\n          className: `h-5 w-5 ${theme.highlight} ${loading ? 'animate-bounce-slow' : ''}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 548,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold\",\n          children: \"\\u51B0\\u5CF6\\u5929\\u6C23\\u9810\\u5831\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 549,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          value: JSON.stringify(selectedLocation),\n          onChange: e => setSelectedLocation(JSON.parse(e.target.value)),\n          className: `text-sm px-2 py-1 rounded ${theme.darkMode ? 'bg-blue-800 bg-opacity-50 text-white border-blue-600' : 'bg-white border-blue-300'} border transition-all duration-300 focus:ring-2 focus:ring-blue-400`,\n          children: travelLocations.map((loc, idx) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: JSON.stringify(loc),\n            children: loc.name\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 560,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 554,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: fetchWeatherData,\n          disabled: loading,\n          className: `p-1.5 rounded-full ${theme.darkMode ? 'bg-blue-700 hover:bg-blue-600' : 'bg-blue-500 hover:bg-blue-400'} text-white transition transform ${animateRefresh ? 'animate-spin' : 'hover:rotate-180'} duration-500`,\n          title: \"\\u5237\\u65B0\\u5929\\u6C23\\u6578\\u64DA\",\n          children: /*#__PURE__*/_jsxDEV(RefreshCw, {\n            className: `h-4 w-4`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 573,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 567,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 552,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 546,\n      columnNumber: 7\n    }, this), lastUpdated && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `text-xs ${theme.secondaryText} -mt-2 mb-3 animate-fade-in`,\n      children: formatLastUpdated()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 580,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex border-b mb-4 overflow-x-auto pb-1\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setActiveTab('current'),\n        className: `px-3 py-2 text-sm font-medium transition-all duration-300 ${activeTab === 'current' ? `${theme.darkMode ? 'text-white' : 'text-blue-600'} border-b-2 ${theme.darkMode ? 'border-blue-400' : 'border-blue-600'}` : theme.secondaryText}`,\n        children: \"\\u5373\\u6642\\u5929\\u6C23\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 587,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setActiveTab('hourly'),\n        className: `px-3 py-2 text-sm font-medium transition-all duration-300 ${activeTab === 'hourly' ? `${theme.darkMode ? 'text-white' : 'text-blue-600'} border-b-2 ${theme.darkMode ? 'border-blue-400' : 'border-blue-600'}` : theme.secondaryText}`,\n        children: \"\\u5C0F\\u6642\\u9810\\u5831\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 597,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setActiveTab('daily'),\n        className: `px-3 py-2 text-sm font-medium transition-all duration-300 ${activeTab === 'daily' ? `${theme.darkMode ? 'text-white' : 'text-blue-600'} border-b-2 ${theme.darkMode ? 'border-blue-400' : 'border-blue-600'}` : theme.secondaryText}`,\n        children: \"\\u6BCF\\u65E5\\u9810\\u5831\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 607,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 586,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col items-center justify-center py-8 animate-fade-in\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `animate-spin h-10 w-10 border-4 ${theme.darkMode ? 'border-blue-300' : 'border-blue-600'} rounded-full border-t-transparent`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 622,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4\",\n        children: \"\\u6B63\\u5728\\u8F09\\u5165\\u5929\\u6C23\\u8CC7\\u6599...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 623,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 621,\n      columnNumber: 9\n    }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-6 animate-fade-in\",\n      children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n        className: `h-10 w-10 ${theme.darkMode ? 'text-red-400' : 'text-red-600'} mx-auto mb-2 animate-bounce-slow`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 627,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: theme.darkMode ? 'text-red-300' : 'text-red-600',\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 628,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: fetchWeatherData,\n        className: `mt-4 px-4 py-2 ${theme.button} text-white rounded-lg transition transform hover:scale-105 active:scale-95`,\n        children: \"\\u91CD\\u65B0\\u8F09\\u5165\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 631,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 626,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `animate-tab-transition`,\n      children: [activeTab === 'current' && renderCurrentWeather(), activeTab === 'hourly' && renderHourlyForecast(), activeTab === 'daily' && renderDailyForecast()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 639,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 pt-3 border-t border-gray-200 border-opacity-30\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `text-xs ${theme.secondaryText} flex items-center gap-1`,\n        children: [/*#__PURE__*/_jsxDEV(Info, {\n          className: \"h-3 w-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 649,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u5929\\u6C23\\u6578\\u64DA\\u7531 OpenWeatherMap \\u63D0\\u4F9B\\uFF0C\\u53EF\\u80FD\\u96A8\\u6642\\u8B8A\\u52D5\\uFF0C\\u8ACB\\u4EE5\\u73FE\\u5834\\u5BE6\\u969B\\u60C5\\u6CC1\\u70BA\\u4E3B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 650,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 648,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 647,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 544,\n    columnNumber: 5\n  }, this);\n};\n_s(EnhancedWeatherWidget, \"gV30baH5k7atQsu0geOd1ummFOs=\");\n_c = EnhancedWeatherWidget;\nexport default EnhancedWeatherWidget;\nvar _c;\n$RefreshReg$(_c, \"EnhancedWeatherWidget\");","map":{"version":3,"names":["React","useState","useEffect","useRef","CloudSnow","Wind","Droplets","Thermometer","Sun","Sunset","Eye","CloudRain","Clock","ArrowDown","ArrowUp","Compass","Gauge","Navigation","RefreshCw","Info","AlertTriangle","jsxDEV","_jsxDEV","EnhancedWeatherWidget","theme","_s","currentWeather","setCurrentWeather","forecast","setForecast","loading","setLoading","error","setError","activeHourlyPage","setActiveHourlyPage","activeTab","setActiveTab","lastUpdated","setLastUpdated","animateRefresh","setAnimateRefresh","animateTemperature","setAnimateTemperature","showTooltip","setShowTooltip","prevTempRef","tempChangeRef","travelLocations","name","lat","lon","selectedLocation","setSelectedLocation","fetchWeatherData","current","currentTemp","Math","round","main","temp","timer","setTimeout","clearTimeout","apiKey","process","env","REACT_APP_OPENWEATHER_API_KEY","currentRes","fetch","forecastRes","ok","console","status","statusText","Error","currentData","json","forecastData","sunrise","sys","sunset","visibility","hourlyForecast","list","slice","map","item","dt","feels_like","humidity","weather","pop","wind_speed","wind","speed","dailyForecast","groupedByDay","forEach","date","Date","toLocaleDateString","push","Object","entries","items","index","noon","setHours","noonTimestamp","getTime","closestToDayItem","reduce","prev","curr","abs","temps","maxTemp","max","minTemp","min","maxPop","day","hourly","daily","err","message","getWeatherIcon","iconCode","getWeatherAnimationClass","includes","formatTime","timestamp","toLocaleTimeString","hour","minute","formatDay","days","getDay","getWindDirection","deg","directions","formatLastUpdated","renderCurrentWeather","isDarkMode","darkMode","weatherAnimClass","icon","tempAnimClass","className","children","src","alt","description","fileName","_jsxFileName","lineNumber","columnNumber","highlight","temp_max","temp_min","cardBg","style","transform","animationDuration","width","pressure","toFixed","onMouseEnter","onMouseLeave","now","floor","dayLength","position","left","renderHourlyForecast","ITEMS_PER_PAGE","totalItems","length","totalPages","ceil","startIdx","endIdx","currentItems","onClick","disabled","xmlns","viewBox","fill","fillRule","d","clipRule","idx","precipChance","opacity","renderDailyForecast","cardBorder","value","JSON","stringify","onChange","e","parse","target","loc","title","secondaryText","button","_c","$RefreshReg$"],"sources":["C:/Users/wesle/OneDrive - KU Leuven/Desktop/Iceland/my-iceland-trip-website/src/components/iceland-trip/EnhancedWeatherWidget.js"],"sourcesContent":["// src/components/iceland-trip/EnhancedWeatherWidget.js\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { \r\n  CloudSnow, Wind, Droplets, Thermometer, Sun, Sunset, Eye, \r\n  CloudRain, Clock, ArrowDown, ArrowUp, Compass, Gauge, \r\n  Navigation, RefreshCw, Info, AlertTriangle\r\n} from 'lucide-react';\r\n\r\nconst EnhancedWeatherWidget = ({ theme }) => {\r\n  const [currentWeather, setCurrentWeather] = useState(null);\r\n  const [forecast, setForecast] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [activeHourlyPage, setActiveHourlyPage] = useState(0);\r\n  const [activeTab, setActiveTab] = useState('current'); // 'current', 'hourly', 'daily'\r\n  const [lastUpdated, setLastUpdated] = useState(null);\r\n  const [animateRefresh, setAnimateRefresh] = useState(false);\r\n  const [animateTemperature, setAnimateTemperature] = useState(false);\r\n  const [showTooltip, setShowTooltip] = useState(null);\r\n  \r\n  // 用於溫度變化動畫的ref\r\n  const prevTempRef = useRef(null);\r\n  const tempChangeRef = useRef(null);\r\n  \r\n  // 主要冰島旅遊地點\r\n  const travelLocations = [\r\n    { name: \"雷克雅維克\", lat: 64.1466, lon: -21.9426 },\r\n    { name: \"教會山\", lat: 64.927, lon: -23.308 },\r\n    { name: \"黃金圈\", lat: 64.255, lon: -21.130 },\r\n    { name: \"藍湖\", lat: 63.880, lon: -22.449 },\r\n    { name: \"冰河湖\", lat: 64.047, lon: -16.181 }\r\n  ];\r\n  \r\n  const [selectedLocation, setSelectedLocation] = useState(travelLocations[0]);\r\n\r\n  // 監視地點變化，獲取數據\r\n  useEffect(() => {\r\n    fetchWeatherData();\r\n  }, [selectedLocation]);\r\n  \r\n  // 設置溫度動畫效果\r\n  useEffect(() => {\r\n    if (currentWeather && prevTempRef.current !== null) {\r\n      const currentTemp = Math.round(currentWeather.main.temp);\r\n      if (prevTempRef.current !== currentTemp) {\r\n        setAnimateTemperature(true);\r\n        tempChangeRef.current = currentTemp > prevTempRef.current ? 'up' : 'down';\r\n        \r\n        // 動畫結束後重置\r\n        const timer = setTimeout(() => {\r\n          setAnimateTemperature(false);\r\n        }, 1000);\r\n        \r\n        return () => clearTimeout(timer);\r\n      }\r\n    }\r\n    \r\n    if (currentWeather) {\r\n      prevTempRef.current = Math.round(currentWeather.main.temp);\r\n    }\r\n  }, [currentWeather]);\r\n\r\n  const fetchWeatherData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setAnimateRefresh(true); // 啟動刷新按鈕動畫\r\n      \r\n      const apiKey = process.env.REACT_APP_OPENWEATHER_API_KEY;\r\n      \r\n      // 使用當前天氣 API (免費可用)\r\n      const currentRes = await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${selectedLocation.lat}&lon=${selectedLocation.lon}&units=metric&appid=${apiKey}`);\r\n      \r\n      // 使用 5-day/3-hour forecast API (免費可用)\r\n      const forecastRes = await fetch(`https://api.openweathermap.org/data/2.5/forecast?lat=${selectedLocation.lat}&lon=${selectedLocation.lon}&units=metric&appid=${apiKey}`);\r\n      \r\n      if (!currentRes.ok) {\r\n        console.error(\"Current weather API failed:\", currentRes.status, currentRes.statusText);\r\n        throw new Error(`Current weather API error: ${currentRes.status}`);\r\n      }\r\n      \r\n      if (!forecastRes.ok) {\r\n        console.error(\"Forecast API failed:\", forecastRes.status, forecastRes.statusText);\r\n        throw new Error(`Forecast API error: ${forecastRes.status}`);\r\n      }\r\n      \r\n      const currentData = await currentRes.json();\r\n      const forecastData = await forecastRes.json();\r\n      \r\n      // 處理當前天氣數據\r\n      setCurrentWeather({\r\n        ...currentData,\r\n        main: {\r\n          ...currentData.main,\r\n          sunrise: currentData.sys.sunrise,\r\n          sunset: currentData.sys.sunset,\r\n          visibility: currentData.visibility\r\n        }\r\n      });\r\n      \r\n      // 處理小時預報 (取前 24 小時 / 8 個時間點)\r\n      const hourlyForecast = forecastData.list.slice(0, 8).map(item => ({\r\n        dt: item.dt,\r\n        temp: item.main.temp,\r\n        feels_like: item.main.feels_like,\r\n        humidity: item.main.humidity,\r\n        weather: item.weather,\r\n        pop: item.pop || 0, // 降水概率\r\n        wind_speed: item.wind.speed\r\n      }));\r\n      \r\n      // 處理日預報 (每天取中午的預報作為代表)\r\n      const dailyForecast = [];\r\n      const groupedByDay = {};\r\n      \r\n      // 以日期為鍵分組\r\n      forecastData.list.forEach(item => {\r\n        const date = new Date(item.dt * 1000).toLocaleDateString();\r\n        if (!groupedByDay[date]) {\r\n          groupedByDay[date] = [];\r\n        }\r\n        groupedByDay[date].push(item);\r\n      });\r\n      \r\n      // 每天取中午的預報\r\n      Object.entries(groupedByDay).forEach(([date, items], index) => {\r\n        if (index < 5) { // 最多取 5 天 (API 限制)\r\n          // 尋找最接近中午的預報\r\n          const noon = new Date(date);\r\n          noon.setHours(12, 0, 0, 0);\r\n          const noonTimestamp = noon.getTime() / 1000;\r\n          \r\n          // 找到最接近中午的預報\r\n          const closestToDayItem = items.reduce((prev, curr) => {\r\n            return Math.abs(curr.dt - noonTimestamp) < Math.abs(prev.dt - noonTimestamp) ? curr : prev;\r\n          }, items[0]);\r\n          \r\n          // 計算溫度範圍\r\n          const temps = items.map(item => item.main.temp);\r\n          const maxTemp = Math.max(...temps);\r\n          const minTemp = Math.min(...temps);\r\n          \r\n          // 計算最大降水概率\r\n          const maxPop = Math.max(...items.map(item => item.pop || 0));\r\n          \r\n          dailyForecast.push({\r\n            dt: closestToDayItem.dt,\r\n            temp: {\r\n              day: closestToDayItem.main.temp,\r\n              min: minTemp,\r\n              max: maxTemp\r\n            },\r\n            weather: closestToDayItem.weather,\r\n            pop: maxPop, // 使用當天最大降水概率\r\n            wind_speed: closestToDayItem.wind.speed\r\n          });\r\n        }\r\n      });\r\n      \r\n      setForecast({\r\n        hourly: hourlyForecast,\r\n        daily: dailyForecast\r\n      });\r\n      \r\n      setLastUpdated(new Date());\r\n      setError(null);\r\n    } catch (err) {\r\n      console.error(\"Failed to fetch weather data:\", err);\r\n      setError(`無法獲取天氣數據: ${err.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n      \r\n      // 延遲重置刷新動畫，讓動畫能完整播放\r\n      setTimeout(() => {\r\n        setAnimateRefresh(false);\r\n      }, 800);\r\n    }\r\n  };\r\n\r\n  // 輔助函數\r\n\r\n  // 取得天氣圖示並添加動畫效果\r\n  const getWeatherIcon = (iconCode) => {\r\n    return `https://openweathermap.org/img/wn/${iconCode}@2x.png`;\r\n  };\r\n  \r\n  // 根據天氣狀況獲取動畫效果類名\r\n  const getWeatherAnimationClass = (iconCode) => {\r\n    if (!iconCode) return '';\r\n    \r\n    // 下雨\r\n    if (iconCode.includes('09') || iconCode.includes('10')) {\r\n      return 'animate-rain';\r\n    }\r\n    // 下雪\r\n    else if (iconCode.includes('13')) {\r\n      return 'animate-snow';\r\n    }\r\n    // 雷雨\r\n    else if (iconCode.includes('11')) {\r\n      return 'animate-thunder';\r\n    }\r\n    // 霧\r\n    else if (iconCode.includes('50')) {\r\n      return 'animate-mist';\r\n    }\r\n    // 多雲\r\n    else if (iconCode.includes('02') || iconCode.includes('03') || iconCode.includes('04')) {\r\n      return 'animate-cloud';\r\n    }\r\n    // 晴天\r\n    else if (iconCode.includes('01')) {\r\n      return 'animate-sun';\r\n    }\r\n    \r\n    return '';\r\n  };\r\n  \r\n  // 格式化時間 (Unix timestamp)\r\n  const formatTime = (timestamp) => {\r\n    const date = new Date(timestamp * 1000);\r\n    return date.toLocaleTimeString('zh-TW', { hour: '2-digit', minute: '2-digit' });\r\n  };\r\n  \r\n  // 格式化日期 (Unix timestamp)\r\n  const formatDay = (timestamp) => {\r\n    const date = new Date(timestamp * 1000);\r\n    const days = ['週日', '週一', '週二', '週三', '週四', '週五', '週六'];\r\n    return days[date.getDay()];\r\n  };\r\n  \r\n  // 取得風向文字\r\n  const getWindDirection = (deg) => {\r\n    const directions = ['北', '東北', '東', '東南', '南', '西南', '西', '西北'];\r\n    return directions[Math.round(deg / 45) % 8];\r\n  };\r\n  \r\n  // 格式化上次更新時間\r\n  const formatLastUpdated = () => {\r\n    if (!lastUpdated) return '';\r\n    \r\n    return `最後更新: ${lastUpdated.toLocaleTimeString('zh-TW')}`;\r\n  };\r\n\r\n  // 渲染當前天氣板塊\r\n  const renderCurrentWeather = () => {\r\n    if (!currentWeather) return null;\r\n    \r\n    const weather = currentWeather.weather[0];\r\n    const main = currentWeather.main;\r\n    const wind = currentWeather.wind;\r\n    const isDarkMode = theme.darkMode;\r\n    \r\n    // 天氣圖標動畫類名\r\n    const weatherAnimClass = getWeatherAnimationClass(weather.icon);\r\n    \r\n    // 溫度變化動畫類名\r\n    const tempAnimClass = animateTemperature \r\n      ? tempChangeRef.current === 'up' \r\n        ? 'animate-temp-up' \r\n        : 'animate-temp-down'\r\n      : '';\r\n    \r\n    return (\r\n      <div className=\"space-y-4\">\r\n        {/* 主要天氣顯示 */}\r\n        <div className=\"flex justify-between items-center\">\r\n          <div className=\"flex items-center\">\r\n            <div className={`relative w-20 h-20 ${weatherAnimClass}`}>\r\n              <img \r\n                src={getWeatherIcon(weather.icon)} \r\n                alt={weather.description}\r\n                className=\"w-full h-full\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <div className={`text-3xl font-bold transition-all duration-700 ${tempAnimClass}`}>\r\n                {Math.round(main.temp)}°C\r\n              </div>\r\n              <div className=\"capitalize\">{weather.description}</div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div>\r\n            <div className=\"flex items-center\">\r\n              <ArrowUp className={`h-4 w-4 ${theme.highlight} mr-1`} />\r\n              <span className=\"mr-2\">{Math.round(main.temp_max)}°</span>\r\n              <ArrowDown className={`h-4 w-4 ${theme.highlight} mr-1`} />\r\n              <span>{Math.round(main.temp_min)}°</span>\r\n            </div>\r\n            <div className=\"text-sm mt-1\">體感溫度: {Math.round(main.feels_like)}°C</div>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* 天氣詳情網格 */}\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-2\">\r\n          {/* 風速 */}\r\n          <div className={`${theme.cardBg} p-3 rounded-lg transform transition hover:scale-105`}>\r\n            <div className=\"flex items-center mb-1\">\r\n              <Wind className={`mr-1 h-4 w-4 ${theme.highlight}`} />\r\n              <div className=\"text-sm font-medium\">風速</div>\r\n            </div>\r\n            <div className=\"flex justify-between items-center\">\r\n              <div>{wind.speed} m/s</div>\r\n              <div className=\"flex items-center text-sm\">\r\n                <Navigation \r\n                  className={`h-3 w-3 mr-1 ${theme.highlight} animate-wind-direction`} \r\n                  style={{ \r\n                    transform: `rotate(${wind.deg}deg)`,\r\n                    animationDuration: `${Math.max(2, 8 - wind.speed)}s` // 風速越大，動畫越快\r\n                  }} \r\n                />\r\n                <span>{getWindDirection(wind.deg)}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* 濕度 */}\r\n          <div className={`${theme.cardBg} p-3 rounded-lg transform transition hover:scale-105`}>\r\n            <div className=\"flex items-center mb-1\">\r\n              <Droplets className={`mr-1 h-4 w-4 ${theme.highlight} animate-bounce-slow`} />\r\n              <div className=\"text-sm font-medium\">濕度</div>\r\n            </div>\r\n            <div className=\"flex justify-between items-center\">\r\n              <div>{main.humidity}%</div>\r\n              <div className=\"w-16 h-2 bg-gray-200 rounded-full overflow-hidden\">\r\n                <div \r\n                  className={`h-full ${isDarkMode ? 'bg-blue-400' : 'bg-blue-600'} transition-all duration-1000`} \r\n                  style={{ width: `${main.humidity}%` }}\r\n                ></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* 氣壓 */}\r\n          <div className={`${theme.cardBg} p-3 rounded-lg transform transition hover:scale-105`}>\r\n            <div className=\"flex items-center mb-1\">\r\n              <Gauge className={`mr-1 h-4 w-4 ${theme.highlight} animate-pulse-slow`} />\r\n              <div className=\"text-sm font-medium\">氣壓</div>\r\n            </div>\r\n            <div>{main.pressure} hPa</div>\r\n          </div>\r\n          \r\n          {/* 能見度 */}\r\n          <div className={`${theme.cardBg} p-3 rounded-lg transform transition hover:scale-105`}>\r\n            <div className=\"flex items-center mb-1\">\r\n              <Eye className={`mr-1 h-4 w-4 ${theme.highlight}`} />\r\n              <div className=\"text-sm font-medium\">能見度</div>\r\n            </div>\r\n            <div>{(main.visibility / 1000).toFixed(1)} km</div>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* 日出/日落 */}\r\n        <div \r\n          className={`${theme.cardBg} p-3 rounded-lg transform transition hover:shadow-lg`}\r\n          onMouseEnter={() => setShowTooltip('sun')}\r\n          onMouseLeave={() => setShowTooltip(null)}\r\n        >\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center\">\r\n              <Sun className={`mr-1 h-4 w-4 ${isDarkMode ? 'text-amber-300 animate-spin-slow' : 'text-amber-500 animate-spin-slow'}`} />\r\n              <div className=\"text-sm\">日出 {formatTime(main.sunrise)}</div>\r\n            </div>\r\n            <div className=\"flex items-center\">\r\n              <Sunset className={`mr-1 h-4 w-4 ${isDarkMode ? 'text-orange-300' : 'text-orange-500'}`} />\r\n              <div className=\"text-sm\">日落 {formatTime(main.sunset)}</div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"mt-2 relative h-3 bg-gray-200 rounded-full overflow-hidden\">\r\n            <div \r\n              className=\"h-full bg-gradient-to-r from-amber-400 via-yellow-300 to-orange-400 transition-all duration-1000\" \r\n              style={{ width: '100%' }}\r\n            ></div>\r\n            \r\n            {/* 當前時間標記 */}\r\n            {(() => {\r\n              const now = Math.floor(Date.now() / 1000);\r\n              const sunrise = main.sunrise;\r\n              const sunset = main.sunset;\r\n              const dayLength = sunset - sunrise;\r\n              const position = ((now - sunrise) / dayLength) * 100;\r\n              \r\n              // 白天才顯示\r\n              if (now >= sunrise && now <= sunset) {\r\n                return (\r\n                  <div \r\n                    className=\"absolute top-0 w-1 h-3 bg-red-500\"\r\n                    style={{ left: `${position}%` }}\r\n                  ></div>\r\n                );\r\n              }\r\n              return null;\r\n            })()}\r\n          </div>\r\n          \r\n          {/* 太陽路徑動畫提示 */}\r\n          {showTooltip === 'sun' && (\r\n            <div className=\"mt-2 text-xs text-center opacity-70\">白天時間：約 {Math.round((main.sunset - main.sunrise) / 3600)} 小時</div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  \r\n  // 渲染小時預報部分\r\n  const renderHourlyForecast = () => {\r\n    if (!forecast || !forecast.hourly) return null;\r\n    \r\n    const ITEMS_PER_PAGE = 4;\r\n    const totalItems = forecast.hourly.length;\r\n    const totalPages = Math.ceil(totalItems / ITEMS_PER_PAGE);\r\n    const startIdx = activeHourlyPage * ITEMS_PER_PAGE;\r\n    const endIdx = Math.min(startIdx + ITEMS_PER_PAGE, totalItems);\r\n    const currentItems = forecast.hourly.slice(startIdx, endIdx);\r\n    \r\n    return (\r\n      <div className=\"space-y-4\">\r\n        <div className=\"flex items-center justify-between mb-2\">\r\n          <h3 className=\"text-lg font-medium\">未來預報</h3>\r\n          \r\n          {/* 頁籤控制 (只有多頁時顯示) */}\r\n          {totalPages > 1 && (\r\n            <div className=\"flex items-center space-x-2\">\r\n              <button \r\n                onClick={() => setActiveHourlyPage(prev => Math.max(0, prev - 1))}\r\n                disabled={activeHourlyPage === 0}\r\n                className={`p-1 rounded ${theme.darkMode ? 'text-white' : 'text-gray-600'} ${activeHourlyPage === 0 ? 'opacity-50 cursor-not-allowed' : 'hover:bg-gray-200'} transition transform active:scale-95`}\r\n              >\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                  <path fillRule=\"evenodd\" d=\"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\r\n                </svg>\r\n              </button>\r\n              <span className=\"text-sm\">\r\n                {activeHourlyPage + 1}/{totalPages}\r\n              </span>\r\n              <button \r\n                onClick={() => setActiveHourlyPage(prev => Math.min(totalPages - 1, prev + 1))}\r\n                disabled={activeHourlyPage === totalPages - 1}\r\n                className={`p-1 rounded ${theme.darkMode ? 'text-white' : 'text-gray-600'} ${activeHourlyPage === totalPages - 1 ? 'opacity-50 cursor-not-allowed' : 'hover:bg-gray-200'} transition transform active:scale-95`}\r\n              >\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                  <path fillRule=\"evenodd\" d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\" clipRule=\"evenodd\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n        \r\n        <div className=\"grid grid-cols-4 gap-2\">\r\n          {currentItems.map((hour, idx) => {\r\n            const weatherAnimClass = getWeatherAnimationClass(hour.weather[0].icon);\r\n            const precipChance = Math.round(hour.pop * 100);\r\n            \r\n            return (\r\n              <div \r\n                key={idx} \r\n                className={`${theme.cardBg} p-2 rounded-lg text-center transform transition duration-300 hover:scale-105 hover:shadow-md`}\r\n              >\r\n                <div className=\"text-sm font-medium\">\r\n                  {formatTime(hour.dt)}\r\n                </div>\r\n                <div className={`w-10 h-10 mx-auto ${weatherAnimClass}`}>\r\n                  <img \r\n                    src={getWeatherIcon(hour.weather[0].icon)} \r\n                    alt={hour.weather[0].description}\r\n                    className=\"w-full h-full\"\r\n                  />\r\n                </div>\r\n                <div className=\"text-lg font-bold\">{Math.round(hour.temp)}°</div>\r\n                <div \r\n                  className=\"flex items-center justify-center text-xs\"\r\n                  style={{ opacity: precipChance > 0 ? 1 : 0.5 }}\r\n                >\r\n                  <CloudRain className={`h-3 w-3 mr-1 ${precipChance > 30 ? 'animate-bounce-slow' : ''}`} />\r\n                  <span>{precipChance}%</span>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  \r\n  // 渲染每日預報部分\r\n  const renderDailyForecast = () => {\r\n    if (!forecast || !forecast.daily) return null;\r\n    \r\n    return (\r\n      <div className=\"space-y-4\">\r\n        <h3 className=\"text-lg font-medium mb-2\">未來五天預報</h3>\r\n        \r\n        <div className=\"space-y-2\">\r\n          {forecast.daily.map((day, idx) => {\r\n            const weatherAnimClass = getWeatherAnimationClass(day.weather[0].icon);\r\n            const precipChance = Math.round(day.pop * 100);\r\n            \r\n            return (\r\n              <div \r\n                key={idx} \r\n                className={`${theme.cardBg} p-3 rounded-lg flex items-center justify-between transform transition duration-300 hover:scale-102 hover:shadow-md`}\r\n              >\r\n                <div className=\"flex items-center\">\r\n                  <div className=\"w-16\">\r\n                    {idx === 0 ? '今天' : formatDay(day.dt)}\r\n                  </div>\r\n                  <div className={`w-10 h-10 ${weatherAnimClass}`}>\r\n                    <img \r\n                      src={getWeatherIcon(day.weather[0].icon)} \r\n                      alt={day.weather[0].description}\r\n                      className=\"w-full h-full\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"ml-1\">\r\n                    <div className=\"text-sm capitalize\">{day.weather[0].description}</div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"flex items-center space-x-4\">\r\n                  <div \r\n                    className=\"flex items-center\"\r\n                    style={{ opacity: precipChance > 0 ? 1 : 0.5 }}\r\n                  >\r\n                    <CloudRain className={`h-4 w-4 mr-1 ${precipChance > 30 ? 'animate-bounce-slow' : ''}`} />\r\n                    <span>{precipChance}%</span>\r\n                  </div>\r\n                  <div className=\"flex items-center space-x-1\">\r\n                    <ArrowDown className={`h-4 w-4 ${theme.darkMode ? 'text-blue-400' : 'text-blue-600'}`} />\r\n                    <span>{Math.round(day.temp.min)}°</span>\r\n                    <ArrowUp className={`h-4 w-4 ${theme.darkMode ? 'text-red-400' : 'text-red-600'} ml-1`} />\r\n                    <span>{Math.round(day.temp.max)}°</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  \r\n  return (\r\n    <div className={`mb-6 ${theme.cardBg} rounded-xl p-4 ${theme.cardBorder} transition-all duration-300`}>\r\n      {/* 標題與地點選擇器 */}\r\n      <div className=\"flex justify-between items-center mb-4\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <CloudSnow className={`h-5 w-5 ${theme.highlight} ${loading ? 'animate-bounce-slow' : ''}`} />\r\n          <h2 className=\"text-lg font-semibold\">冰島天氣預報</h2>\r\n        </div>\r\n        \r\n        <div className=\"flex items-center gap-2\">\r\n          {/* 地點選擇器 */}\r\n          <select\r\n            value={JSON.stringify(selectedLocation)}\r\n            onChange={(e) => setSelectedLocation(JSON.parse(e.target.value))}\r\n            className={`text-sm px-2 py-1 rounded ${theme.darkMode ? 'bg-blue-800 bg-opacity-50 text-white border-blue-600' : 'bg-white border-blue-300'} border transition-all duration-300 focus:ring-2 focus:ring-blue-400`}\r\n          >\r\n            {travelLocations.map((loc, idx) => (\r\n              <option key={idx} value={JSON.stringify(loc)}>\r\n                {loc.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n          \r\n          {/* 刷新按鈕 */}\r\n          <button \r\n            onClick={fetchWeatherData}\r\n            disabled={loading}\r\n            className={`p-1.5 rounded-full ${theme.darkMode ? 'bg-blue-700 hover:bg-blue-600' : 'bg-blue-500 hover:bg-blue-400'} text-white transition transform ${animateRefresh ? 'animate-spin' : 'hover:rotate-180'} duration-500`}\r\n            title=\"刷新天氣數據\"\r\n          >\r\n            <RefreshCw className={`h-4 w-4`} />\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* 最後更新時間 */}\r\n      {lastUpdated && (\r\n        <div className={`text-xs ${theme.secondaryText} -mt-2 mb-3 animate-fade-in`}>\r\n          {formatLastUpdated()}\r\n        </div>\r\n      )}\r\n      \r\n      {/* 標籤導航 */}\r\n      <div className=\"flex border-b mb-4 overflow-x-auto pb-1\">\r\n        <button\r\n          onClick={() => setActiveTab('current')}\r\n          className={`px-3 py-2 text-sm font-medium transition-all duration-300 ${\r\n            activeTab === 'current' \r\n              ? `${theme.darkMode ? 'text-white' : 'text-blue-600'} border-b-2 ${theme.darkMode ? 'border-blue-400' : 'border-blue-600'}` \r\n              : theme.secondaryText\r\n          }`}\r\n        >\r\n          即時天氣\r\n        </button>\r\n        <button\r\n          onClick={() => setActiveTab('hourly')}\r\n          className={`px-3 py-2 text-sm font-medium transition-all duration-300 ${\r\n            activeTab === 'hourly' \r\n              ? `${theme.darkMode ? 'text-white' : 'text-blue-600'} border-b-2 ${theme.darkMode ? 'border-blue-400' : 'border-blue-600'}` \r\n              : theme.secondaryText\r\n          }`}\r\n        >\r\n          小時預報\r\n        </button>\r\n        <button\r\n          onClick={() => setActiveTab('daily')}\r\n          className={`px-3 py-2 text-sm font-medium transition-all duration-300 ${\r\n            activeTab === 'daily' \r\n              ? `${theme.darkMode ? 'text-white' : 'text-blue-600'} border-b-2 ${theme.darkMode ? 'border-blue-400' : 'border-blue-600'}` \r\n              : theme.secondaryText\r\n          }`}\r\n        >\r\n          每日預報\r\n        </button>\r\n      </div>\r\n      \r\n      {/* 載入中狀態 */}\r\n      {loading ? (\r\n        <div className=\"flex flex-col items-center justify-center py-8 animate-fade-in\">\r\n          <div className={`animate-spin h-10 w-10 border-4 ${theme.darkMode ? 'border-blue-300' : 'border-blue-600'} rounded-full border-t-transparent`}></div>\r\n          <div className=\"mt-4\">正在載入天氣資料...</div>\r\n        </div>\r\n      ) : error ? (\r\n        <div className=\"text-center py-6 animate-fade-in\">\r\n          <AlertTriangle className={`h-10 w-10 ${theme.darkMode ? 'text-red-400' : 'text-red-600'} mx-auto mb-2 animate-bounce-slow`} />\r\n          <p className={theme.darkMode ? 'text-red-300' : 'text-red-600'}>\r\n            {error}\r\n          </p>\r\n          <button\r\n            onClick={fetchWeatherData}\r\n            className={`mt-4 px-4 py-2 ${theme.button} text-white rounded-lg transition transform hover:scale-105 active:scale-95`}\r\n          >\r\n            重新載入\r\n          </button>\r\n        </div>\r\n      ) : (\r\n        <div className={`animate-tab-transition`}>\r\n          {activeTab === 'current' && renderCurrentWeather()}\r\n          {activeTab === 'hourly' && renderHourlyForecast()}\r\n          {activeTab === 'daily' && renderDailyForecast()}\r\n        </div>\r\n      )}\r\n      \r\n      {/* 資料相關提示 */}\r\n      <div className=\"mt-4 pt-3 border-t border-gray-200 border-opacity-30\">\r\n        <div className={`text-xs ${theme.secondaryText} flex items-center gap-1`}>\r\n          <Info className=\"h-3 w-3\" />\r\n          <span>天氣數據由 OpenWeatherMap 提供，可能隨時變動，請以現場實際情況為主</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EnhancedWeatherWidget;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
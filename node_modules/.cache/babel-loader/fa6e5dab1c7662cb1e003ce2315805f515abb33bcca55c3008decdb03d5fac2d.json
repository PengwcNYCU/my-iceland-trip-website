{"ast":null,"code":"// src/components/iceland-trip/EnhancedItinerary.js\nimport React,{useState}from'react';import{Calendar,MapPin,Sun,Sunset,Clock,ExternalLink,Navigation,AlertCircle,Coffee,Home,Car,Info}from'lucide-react';import MapComponent,{FallbackMapComponent}from'./MapComponent';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const EnhancedItinerary=_ref=>{var _daysData,_daysData3,_daysData4,_daysData5,_daysData6,_daysData7,_daysData8,_daysData9;let{theme,setSelectedMarker}=_ref;const[selectedDay,setSelectedDay]=useState(1);const[expandedActivity,setExpandedActivity]=useState(null);const[expandedTips,setExpandedTips]=useState(false);const[expandedAccommodation,setExpandedAccommodation]=useState(false);const[selectedMarker,setLocalSelectedMarker]=useState(null);// Detailed itinerary data based on the provided information\nconst daysData=[{date:\"3/2 (六)\",title:\"抵達冰島\",sunrise:\"08:32\",sunset:\"18:50\",activities:[{type:\"航班抵達\",time:\"23:20\",location:\"凱夫拉維克國際機場 (Keflavík International Airport, KEF)\",coordinates:{lat:63.985,lng:-22.605},mapLink:\"https://maps.app.goo.gl/4Vxvw7nwidhKZNtK9\",image:\"/api/placeholder/500/300\",description:\"抵達冰島的第一天，我們將從凱夫拉維克國際機場開始我們的冰島冒險。\",transportTips:[\"機場巴士：Flybus 或 Airport Direct，車程約 45 分鐘到 Keflavík。\",\"租車：機場租車，車程約 15-20 分鐘到住宿。\",\"出租車：車程約 15-20 分鐘，費用較高。\"],notes:\"抵達時間較晚，建議提前預訂交通並盡快前往住宿休息。\"}],tips:[\"機場免稅店的酒類（如冰島伏特加 Brennivín）價格比市區便宜，適合購買紀念品。\"],accommodation:{name:\"Sailors House\",address:\"Álftatjörn 3 260, 260 Keflavík, 冰島\",coordinates:{lat:64.0100,lng:-22.5620},mapLink:\"https://maps.app.goo.gl/4Vxvw7nwidhKZNtK9\"}},{date:\"3/3 (日)\",title:\"斯耐山半島初探\",sunrise:\"08:28\",sunset:\"18:53\",activities:[{time:\"上午\",location:\"Gunnuhver 火山地熱景點\",address:\"Möðruvallavegur, Möðruvellir, 冰島\",coordinates:{lat:63.8194,lng:-22.6858},mapLink:\"https://maps.app.goo.gl/fypu5z2ydsVusU7W6\",duration:\"1-1.5 小時\",transport:\"從 Keflavík 出發，車程約 1 小時。\",image:\"/api/placeholder/500/300\",description:\"參觀火山地熱區，欣賞泥漿池和噴氣孔等特殊地貌\",notes:\"地熱區地面濕滑，建議穿防滑鞋並遠離危險區域。\"},{time:\"14:20\",type:\"接機\",location:\"凱夫拉維克國際機場 (KEF)\",coordinates:{lat:63.985,lng:-22.605},mapLink:\"https://maps.app.goo.gl/4Vxvw7nwidhKZNtK9\",transport:\"從 Gunnuhver 返回 KEF 機場，車程約 1 小時。\"},{time:\"下午\",location:\"教會山瀑布 (Kirkjufellsfossar)\",address:\"WMGQ+FFJ, 351 Grundarfjörður, 冰島\",coordinates:{lat:64.9275,lng:-23.3117},mapLink:\"https://maps.app.goo.gl/rVsDMv7DSTQyb1tU7\",transport:\"從 KEF 機場出發，車程約 2.5 小時。\",image:\"/api/placeholder/500/300\",description:\"欣賞冰島最具標誌性的山峰之一，特別是在黃昏時分美景更加壯觀\",notes:\"建議攜帶相機和三腳架，捕捉日落時分的美景。\"}],tips:[\"Gunnuhver 蒸汽濃密，建議攜帶防水相機保護設備。\",\"Kirkjufellsfossar 在冬季結冰時更顯夢幻，日落時段是最佳攝影時機。\",\"Grundarfjörður 有機會看到極光，建議下載極光預報 App（如 Aurora Forecast）。\"],accommodation:{name:\"格倫達菲厄澤旅舍\",address:\"Hlidarvegur 15, 350 格倫達菲厄澤, 冰島\",coordinates:{lat:64.9186,lng:-23.2533},mapLink:\"https://maps.app.goo.gl/ANQBh6dRLC7jC18C7\"}},{date:\"3/4 (一)\",title:\"斯耐山半島深度旅遊\",sunrise:\"08:25\",sunset:\"18:56\",activities:[{location:\"草帽山 (Kirkjufell)\",coordinates:{lat:64.97,lng:-23.82},mapLink:\"https://maps.app.goo.gl/mwG2d6veTWA2RVYa9\",duration:\"再次欣賞\",details:\"可再次欣賞不同角度的草帽山\",image:\"/api/placeholder/500/300\",description:\"從不同角度欣賞教會山的獨特外觀，早晨的光線會讓它呈現不同的面貌。\"},{location:\"Svörtuloft 懸崖\",coordinates:{lat:64.86,lng:-24.11},mapLink:\"https://maps.app.goo.gl/KMWzGLxYSjNTFttz8\",duration:\"1 小時\",transport:\"教會山 → Svörtuloft，車程約 19 分鐘\",image:\"/api/placeholder/500/300\",description:\"欣賞懸崖海景，壯觀的海浪拍打黑色岩石海岸的景象令人震撼。\"},{location:\"Djúpalónssandur 黑沙灘\",coordinates:{lat:64.7528,lng:-23.8969},mapLink:\"https://maps.app.goo.gl/whY98pZEGhGeaEPr9\",duration:\"1.5 - 2 小時\",transport:\"Svörtuloft → Djúpalónssandur，車程約 9 分鐘\",image:\"/api/placeholder/500/300\",description:\"體驗搬石頭、漫步黑沙灘，欣賞獨特的黑色卵石沙灘和船難遺跡。\"},{location:\"Arnarstapi 石拱\",coordinates:{lat:64.7667,lng:-23.6167},mapLink:\"https://maps.app.goo.gl/dHB1f17pDo8qznbc8\",duration:\"1-1.5 小時\",transport:\"Djúpalónssandur → Arnarstapi，車程約 17 分鐘\",image:\"/api/placeholder/500/300\",description:\"欣賞石拱、海蝕柱，沿著海岸線徒步欣賞火山岩地貌和豐富的鳥類。\"},{location:\"布迪爾黑教堂 (Búðakirkja)\",coordinates:{lat:64.8222,lng:-23.385},mapLink:\"https://maps.app.goo.gl/fSFbhagdkidZ3JPc8\",duration:\"30-45 分鐘\",transport:\"Arnarstapi → 布迪爾黑教堂，車程約 24 分鐘\",image:\"/api/placeholder/500/300\",description:\"參觀黑教堂、拍照，這座黑色木結構小教堂與周圍熔岩荒原形成鮮明對比。\"},{type:\"備用景點\",location:\"瓦汀舍利爾洞穴 (Vatnshellir Cave)\",coordinates:{lat:64.75,lng:-23.8167},mapLink:\"https://maps.app.goo.gl/LjpbjS9fQpBJpiU68\",duration:\"1 小時\",details:\"洞穴導覽行程\",notes:\"洞穴探險需預訂導覽（約 45 分鐘），穿保暖衣物和防滑鞋。\",image:\"/api/placeholder/500/300\",description:\"這是一個8000年前形成的熔岩洞穴，可以參加導覽團深入地下35米，探索獨特的地下世界。\"}],tips:[\"Djúpalónssandur 的「力量石」是維京傳統，挑戰舉起最小塊（54 公斤）體驗歷史。\",\"Vatnshellir 洞穴內溫度約 0°C，建議穿羽絨服與手套。\"],accommodation:{name:\"Kirkjuteigur 23 2nd\",address:\"Kirkjuteigur 23 2nd, 105 Reykjavík, 冰島\",coordinates:{lat:64.1436,lng:-21.9186},mapLink:\"https://maps.app.goo.gl/qh7qv3thg8k1LgxV6\",transport:\"從斯耐山半島返回雷克雅維克，車程約 2.5 小時。\"}},{date:\"3/5 (二)\",title:\"黃金圈之旅\",sunrise:\"08:21\",sunset:\"18:59\",activities:[{location:\"Þingvellir 國家公園\",coordinates:{lat:64.2559,lng:-21.1305},mapLink:\"https://maps.app.goo.gl/mY9YpmZhL1eJqm7eA\",duration:\"2-3 小時\",transport:\"雷克雅維克 → Þingvellir，車程約 45 分鐘，停車費 €5\",details:\"地質奇觀、歷史遺跡巡禮\",image:\"/api/placeholder/500/300\",description:\"這裡是歐亞板塊與北美板塊的交界處，也是世界上最古老的議會所在地。您可以在兩個大陸之間的裂縫中漫步，感受地質活動的壯觀。\"},{location:\"Geysir 間歇泉\",coordinates:{lat:64.3104,lng:-20.3024},mapLink:\"https://maps.app.goo.gl/8svau2duFMa48Vaa9\",duration:\"1-1.5 小時\",transport:\"Þingvellir → Geysir，車程約 1 小時\",details:\"觀賞間歇泉噴發\",image:\"/api/placeholder/500/300\",description:\"Geysir地熱區以其間歇泉Strokkur而聞名，每隔5-10分鐘就會噴發一次，水柱高度可達20-30米。\"},{location:\"Gullfoss 瀑布\",coordinates:{lat:64.3275,lng:-20.1214},mapLink:\"https://maps.app.goo.gl/PgbRnYcgSPMTbS777\",duration:\"1-1.5 小時\",transport:\"Geysir → Gullfoss，車程約 10 分鐘\",details:\"欣賞壯闊瀑布\",image:\"/api/placeholder/500/300\",description:\"Gullfoss是冰島最著名的瀑布之一，水流分兩段落下32米深的峽谷，氣勢磅礴。在陽光照射下，水霧中常常會出現彩虹。\"},{location:\"Glymur 瀑布\",coordinates:{lat:64.3905,lng:-21.2515},mapLink:\"https://maps.app.goo.gl/pSrV15rv3HccJHff8\",duration:\"3-4 小時\",transport:\"Gullfoss → Glymur（經雷克雅維克）：約 1.5 小時\",details:\"徒步觀賞冰島第二高瀑布\",notes:\"Glymur 瀑布需徒步 3-4 小時往返，穿徒步鞋並攜帶水和食物。\",image:\"/api/placeholder/500/300\",description:\"冰島第二高的瀑布，壯麗的景色需要透過一段有挑戰性的徒步才能欣賞到。\"}],tips:[\"Þingvellir 的 Silfra 裂縫水溫僅 2°C，若參加浮潛需穿全套保暖潛水衣。\",\"Geysir 的 Strokkur 間歇泉噴發高度可達 20-40 公尺，站在上風處避免蒸汽。\"],accommodation:{name:\"Vík Hostel\",address:\"Suðurvíkurvegur 5, 870 維克, 冰島\",coordinates:{lat:63.4184,lng:-19.0064},mapLink:\"https://maps.app.goo.gl/AyuTnCpR1FHBAFe69\",transport:\"從 Gullfoss 前往 Vík，車程約 2.5 小時。\"}},{date:\"3/6 (三)\",title:\"南岸瀑布與黑沙灘\",sunrise:\"08:18\",sunset:\"19:02\",activities:[{location:\"塞里雅蘭瀑布 (Seljalandsfoss)\",coordinates:{lat:63.615,lng:-19.991},duration:\"1.5-2 小時\",transport:\"Vík → Seljalandsfoss：約 1 小時\",details:\"體驗水簾洞瀑布\",image:\"/api/placeholder/500/300\",description:\"塞里雅蘭瀑布的特別之處在於可以走到瀑布後面，從水簾後方欣賞景色，是一種獨特的體驗。\"},{location:\"斯科加瀑布 (Skógafoss)\",coordinates:{lat:63.532,lng:-19.511},duration:\"1-1.5 小時\",transport:\"塞里雅蘭瀑布 → 斯科加瀑布：約 30 分鐘\",details:\"爬階梯登頂、欣賞彩虹瀑布\",image:\"/api/placeholder/500/300\",description:\"斯科加瀑布寬60米，高25米，水量充沛。可以沿著階梯爬到瀑布頂部，俯瞰周圍的美麗風景。陽光照射下，瀑布前常出現單彩或雙彩虹。\"},{location:\"Kvernufoss 瀑布\",coordinates:{lat:63.5267,lng:-19.4788},mapLink:\"https://maps.app.goo.gl/6nPzKzL8mK9nP8zL7\",duration:\"1 小時\",transport:\"Skógafoss → Kvernufoss：徒步約 20 分鐘\",details:\"隱藏瀑布，較少遊客\",image:\"/api/placeholder/500/300\",description:\"一個較少人知道的隱藏瀑布，從斯科加瀑布徒步即可到達，可以走到瀑布後面。\"},{location:\"維克黑沙灘 (Reynisfjara)\",coordinates:{lat:63.406,lng:-19.044},duration:\"1.5-2 小時\",transport:\"斯科加瀑布 → 維克黑沙灘：約 30 分鐘\",details:\"欣賞玄武岩柱、海蝕洞\",image:\"/api/placeholder/500/300\",description:\"這是冰島最著名的黑沙灘，特色是黑色的沙子、壯觀的玄武岩柱和海中的巨石。\"},{location:\"Dyrhólaey 海崖與燈塔\",coordinates:{lat:63.3996,lng:-19.1263},mapLink:\"https://maps.app.goo.gl/7nKzP9QzPJug3e298\",duration:\"1 小時\",transport:\"Reynisfjara → Dyrhólaey：約 15 分鐘\",details:\"欣賞海崖和燈塔\",image:\"/api/placeholder/500/300\",description:\"可以欣賞到壯觀的海崖和遠處的黑沙灘，夏季還可能看到海鸚鵡。\"}],tips:[\"Seljalandsfoss 後方步道濕滑，穿防水外套避免被水花淋濕。\",\"Reynisfjara 的「潛浪」極具危險性，務必遠離海邊至少 30 公尺。\",\"Skógafoss 登頂階梯約 400 階，建議攜帶水並穿保暖透氣衣物。\"],accommodation:{name:\"Suðurvíkurvegur 5\",address:\"Suðurvíkurvegur 5, 870 Vík, 冰島\",coordinates:{lat:63.4184,lng:-19.0064},mapLink:\"https://maps.app.goo.gl/AyuTnCpR1FHBAFe69\"}},{date:\"3/7 (四)\",title:\"蝙蝠山攝影之旅\",sunrise:\"08:14\",sunset:\"19:05\",activities:[{location:\"Víkurfjara 黑沙灘與 Reynisdrangar\",coordinates:{lat:63.4045,lng:-19.0735},mapLink:\"https://maps.app.goo.gl/WzNmP9QzPJug3e298\",duration:\"1 小時\",transport:\"Vík → Víkurfjara：約 5 分鐘\",details:\"黑沙灘與海中石柱\",image:\"/api/placeholder/500/300\",description:\"從不同角度欣賞Reynisdrangar海中石柱，是拍攝日出的絕佳地點。\"},{location:\"Fjaðrárgljúfur 峽谷\",coordinates:{lat:63.7711,lng:-18.1719},mapLink:\"https://maps.app.goo.gl/8nPqKzL8mK9nP8zL7\",duration:\"1-2 小時\",transport:\"Vík → Fjaðrárgljúfur：約 1 小時\",details:\"壯觀的苔蘚覆蓋峽谷\",image:\"/api/placeholder/500/300\",description:\"令人驚嘆的綠色苔蘚覆蓋峽谷，有幾個觀景平台可以俯瞰整個峽谷。\"},{location:\"傑古沙龍冰河湖 (Jökulsárlón)\",coordinates:{lat:64.047,lng:-16.181},duration:\"2-3 小時\",transport:\"Fjaðrárgljúfur → 冰河湖：約 2 小時\",details:\"欣賞冰河湖、鑽石沙灘\",image:\"/api/placeholder/500/300\",description:\"冰河湖中漂浮著藍白相間的冰山，是冰島最令人驚嘆的自然奇觀之一。附近的鑽石沙灘有許多冰塊被沖上岸，在陽光下閃閃發光如同鑽石。\"},{location:\"蝙蝠山 (Vestrahorn)\",coordinates:{lat:64.248,lng:-14.987},duration:\"2-3 小時\",transport:\"冰河湖 → 蝙蝠山：約 1 小時\",details:\"拍攝點：黑沙灘與雪山倒影\",image:\"/api/placeholder/500/300\",description:\"蝙蝠山是冰島東部最著名的山峰之一，其尖峭的山峰與前方的黑沙灘形成強烈對比，是攝影愛好者必訪的地點。\"}],tips:[\"Vestrahorn 的 Stokksnes 海灘在漲潮時反射效果最佳，建議查詢潮汐時間。\",\"Hvalnes Lighthouse 周圍有野生海豹，攜帶望遠鏡或長焦鏡頭可捕捉畫面。\"],accommodation:{name:\"霍芬旅館\",address:\"Hvannabraut 3, 780 霍芬, 冰島\",coordinates:{lat:64.253,lng:-15.209},mapLink:\"https://maps.app.goo.gl/EusbSPi87oxx6yhS8\"}},{date:\"3/8 (五)\",title:\"冰川健行與藍冰洞\",sunrise:\"08:11\",sunset:\"19:08\",activities:[{time:\"9:00 - 15:00\",location:\"Vatnajökull 冰川健行與藍冰洞探險\",meetingPoint:\"Glacier Adventure Base Camp, Hali\",coordinates:{lat:64.25,lng:-15.85},mapLink:\"https://maps.app.goo.gl/2xtMhLici6W8Udzo8\",transport:\"從霍芬出發，車程約 1 小時。\",details:\"藍冰洞探險（參團，約6小時）\",image:\"/api/placeholder/500/300\",description:\"藍冰洞是冬季限定的自然奇觀，冰川融水在夏季形成通道，冬季凍結後形成藍色冰洞。在洞內，冰川冰呈現出不可思議的藍色調，是攝影師的天堂。\",notes:\"穿保暖防水衣物和登山鞋。\"}],tips:[\"藍冰洞內光線柔和，建議用慢速快門拍攝（1/15 秒以上）捕捉冰藍色澤。\",\"Hali 的餐廳提供熱羊肉湯，適合健行後補充能量。\"],accommodation:{name:\"Stóra-Mörk III Guesthouse\",address:\"Stóra Mörk, 861 Stora Mork, 冰島\",coordinates:{lat:64.05,lng:-19.95},mapLink:\"https://maps.app.goo.gl/TaMB8iSBSRRRzmKc7\",transport:\"從 Hali 返回 Stóra Mörk，車程約 2.5 小時。\"}},{date:\"3/9 (六)\",title:\"返回雷克雅維克與 Sky Lagoon\",sunrise:\"08:07\",sunset:\"19:11\",activities:[{time:\"上午\",type:\"市區觀光\",location:\"雷克雅維克市區漫遊\",details:[\"哈爾格林姆斯教堂 - 64.1417° N, 21.9278° W - https://maps.app.goo.gl/qzLnP9QzPJug3e298\",\"哈帕音樂廳 - 64.1500° N, 21.9333° W - https://maps.app.goo.gl/rzMnP9QzPJug3e298\"],transport:\"Stóra-Mörk → 雷克雅維克，車程約 2.5 小時。\",notes:\"建議提前購買教堂塔頂門票。\",image:\"/api/placeholder/500/300\",description:\"在雷克雅維克市中心漫步，參觀標誌性的哈爾格林姆教堂和哈帕音樂廳等地標建築。\"},{time:\"16:00\",location:\"Sky Lagoon\",coordinates:{lat:64.1285,lng:-21.94},mapLink:\"https://maps.app.goo.gl/qzLnP9QzPJug3e298\",duration:\"2-3 小時\",transport:\"從雷克雅維克市中心出發，車程約 15 分鐘。\",details:\"享受海景溫泉、放鬆\",notes:\"攜帶泳衣和毛巾，需提前預訂。\",image:\"/api/placeholder/500/300\",description:\"Sky Lagoon是一個新開的溫泉，擁有無邊際的設計，可以一邊泡在溫泉中，一邊欣賞大西洋的壯麗景色。\"}],tips:[\"Laugavegur 街有二手店，可淘到獨特冰島毛衣（Lopapeysa）。\",\"哈爾格林姆斯教堂塔頂票價約 1000 ISK，建議準備現金。\"],accommodation:{name:\"Kirkjuteigur 23 2nd\",address:\"Kirkjuteigur 23 2nd, 105 Reykjavík, 冰島\",coordinates:{lat:64.1436,lng:-21.9186},mapLink:\"https://maps.app.goo.gl/qh7qv3thg8k1LgxV6\"}},{date:\"3/10 (日)\",title:\"快樂返程\",sunrise:\"08:04\",sunset:\"19:14\",activities:[{time:\"09:00\",type:\"抵達 KEF 機場\",location:\"凱夫拉維克國際機場 (KEF)\",coordinates:{lat:63.985,lng:-22.605},mapLink:\"https://maps.app.goo.gl/4Vxvw7nwidhKZNtK9\",transport:\"從雷克雅維克出發，車程約 45 分鐘。\",details:\"搭機返回\",notes:\"提前 2-3 小時抵達機場，辦理登機手續並退租車。\",image:\"/api/placeholder/500/300\",description:\"結束我們的冰島旅程，帶著滿滿的回憶和照片返程。\"}],tips:[\"KEF 機場退稅櫃檯需提前排隊，建議預留 30 分鐘辦理。\",\"機場的 Bónus 超市販售平價三明治，適合作為登機前早餐。\",\"確認租車歸還時油箱已加滿，避免額外費用。\"]}];// 計算當前選定天數的所有地點 (有座標的活動)\nconst selectedDayLocations=((_daysData=daysData[selectedDay-1])===null||_daysData===void 0?void 0:_daysData.activities.filter(activity=>activity.coordinates).map(activity=>activity.coordinates))||[];const toggleActivityExpansion=index=>{if(expandedActivity===index){setExpandedActivity(null);}else{setExpandedActivity(index);}};// 找到當前選擇的標記相關的活動\nconst getActivityForLocation=location=>{var _daysData2;return(_daysData2=daysData[selectedDay-1])===null||_daysData2===void 0?void 0:_daysData2.activities.find(activity=>activity.coordinates&&activity.coordinates.lat===location.lat&&activity.coordinates.lng===location.lng);};// 生成簡單的座標文本\nconst formatCoordinates=coordinates=>{if(!coordinates)return\"\";return`${coordinates.lat.toFixed(4)}°N, ${coordinates.lng.toFixed(4)}°E`;};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 overflow-x-auto pb-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-2\",children:daysData.map((day,index)=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSelectedDay(index+1),className:`px-4 py-3 rounded-lg flex-shrink-0 transition-all transform ${selectedDay===index+1?`${theme.darkMode?'bg-blue-500':'bg-blue-600'} text-white shadow-lg scale-105`:`${theme.darkMode?'bg-white bg-opacity-10 hover:bg-opacity-20':'bg-white hover:bg-blue-50'}`}`,children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium\",children:day.date}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs truncate max-w-32\",children:day.title})]},index))})}),/*#__PURE__*/_jsxs(\"div\",{className:`mb-6 ${theme.cardBg} rounded-xl p-4 ${theme.cardBorder}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-2\",children:[/*#__PURE__*/_jsx(Calendar,{className:`w-5 h-5 ${theme.highlight}`}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold\",children:(_daysData3=daysData[selectedDay-1])===null||_daysData3===void 0?void 0:_daysData3.title})]}),/*#__PURE__*/_jsxs(\"div\",{className:`mt-2 flex items-center gap-4 text-sm ${theme.secondaryText}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(Sun,{className:`w-4 h-4 ${theme.darkMode?'text-amber-400':'text-amber-500'}`}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u65E5\\u51FA: \",(_daysData4=daysData[selectedDay-1])===null||_daysData4===void 0?void 0:_daysData4.sunrise]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(Sunset,{className:`w-4 h-4 ${theme.darkMode?'text-amber-500':'text-amber-600'}`}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u65E5\\u843D: \",(_daysData5=daysData[selectedDay-1])===null||_daysData5===void 0?void 0:_daysData5.sunset]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:`text-lg font-semibold flex items-center gap-2 mb-4`,children:[/*#__PURE__*/_jsx(Calendar,{className:`h-5 w-5 ${theme.highlight}`}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u7576\\u65E5\\u884C\\u7A0B\"})]}),(_daysData6=daysData[selectedDay-1])===null||_daysData6===void 0?void 0:_daysData6.activities.map((activity,index)=>/*#__PURE__*/_jsx(\"div\",{className:`${theme.cardBg} rounded-xl p-4 ${theme.cardBorder}`,children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start gap-3 cursor-pointer\",onClick:()=>toggleActivityExpansion(index),children:[/*#__PURE__*/_jsx(MapPin,{className:`w-5 h-5 ${theme.highlight} mt-1 flex-shrink-0`}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-grow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-semibold text-lg\",children:[activity.time&&`${activity.time} - `,activity.location||activity.type]}),/*#__PURE__*/_jsx(\"div\",{className:`ml-2 p-1 rounded-full ${theme.darkMode?'bg-blue-800':'bg-blue-100'}`,children:expandedActivity===index?/*#__PURE__*/_jsx(\"span\",{className:\"block w-5 h-5 text-center\",children:\"-\"}):/*#__PURE__*/_jsx(\"span\",{className:\"block w-5 h-5 text-center\",children:\"+\"})})]}),activity.duration&&/*#__PURE__*/_jsxs(\"p\",{className:`${theme.secondaryText} text-sm`,children:[\"\\u5EFA\\u8B70\\u505C\\u7559\\uFF1A\",activity.duration]}),activity.transport&&/*#__PURE__*/_jsxs(\"p\",{className:`${theme.secondaryText} text-sm mt-1 flex items-center`,children:[/*#__PURE__*/_jsx(Car,{className:`w-4 h-4 inline mr-2 ${theme.highlight}`}),activity.transport]}),activity.mapLink&&/*#__PURE__*/_jsxs(\"a\",{href:activity.mapLink,target:\"_blank\",rel:\"noopener noreferrer\",onClick:e=>e.stopPropagation(),className:`text-sm mt-1 flex items-center ${theme.highlight}`,children:[/*#__PURE__*/_jsx(MapPin,{className:\"w-4 h-4 mr-1\"}),\"\\u5728 Google \\u5730\\u5716\\u4E2D\\u958B\\u555F\",/*#__PURE__*/_jsx(ExternalLink,{className:\"w-3 h-3 ml-1\"})]})]})]}),expandedActivity===index&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 pl-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 gap-4\",children:/*#__PURE__*/_jsxs(\"div\",{children:[activity.description&&/*#__PURE__*/_jsx(\"p\",{className:\"mb-3\",children:activity.description}),Array.isArray(activity.details)?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:`text-sm font-medium ${theme.highlight} mb-1`,children:\"\\u8A73\\u7D30\\u8CC7\\u8A0A\"}),/*#__PURE__*/_jsx(\"ul\",{className:`list-disc list-inside space-y-1 text-sm ${theme.secondaryText}`,children:activity.details.map((detail,i)=>/*#__PURE__*/_jsx(\"li\",{children:detail},i))})]}):activity.details?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:`text-sm font-medium ${theme.highlight} mb-1`,children:\"\\u8A73\\u7D30\\u8CC7\\u8A0A\"}),/*#__PURE__*/_jsx(\"p\",{className:`text-sm ${theme.secondaryText}`,children:activity.details})]}):null,activity.notes&&/*#__PURE__*/_jsx(\"div\",{className:`mt-3 p-2 rounded-lg ${theme.darkMode?'bg-amber-900 bg-opacity-20':'bg-amber-50'}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start gap-2\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:`w-4 h-4 ${theme.darkMode?'text-amber-300':'text-amber-500'} mt-0.5 flex-shrink-0`}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:activity.notes})]})}),activity.transportTips&&activity.transportTips.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:`text-sm font-medium ${theme.highlight} mb-1`,children:\"\\u4EA4\\u901A\\u63D0\\u793A\"}),/*#__PURE__*/_jsx(\"ul\",{className:`list-disc list-inside space-y-1 text-sm ${theme.secondaryText}`,children:activity.transportTips.map((tip,i)=>/*#__PURE__*/_jsx(\"li\",{children:tip},i))})]}),activity.coordinates&&/*#__PURE__*/_jsxs(\"button\",{className:`mt-3 px-4 py-2 ${theme.button} text-white rounded flex items-center gap-2 text-sm`,onClick:e=>{var _document$querySelect;e.stopPropagation();setLocalSelectedMarker(activity.coordinates);setSelectedMarker(activity.coordinates);// 滾動到地圖\n(_document$querySelect=document.querySelector('.map-section'))===null||_document$querySelect===void 0?void 0:_document$querySelect.scrollIntoView({behavior:'smooth'});},children:[/*#__PURE__*/_jsx(MapPin,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u5728\\u5730\\u5716\\u4E2D\\u986F\\u793A\"})]})]})})})]})},index))]}),((_daysData7=daysData[selectedDay-1])===null||_daysData7===void 0?void 0:_daysData7.tips)&&((_daysData8=daysData[selectedDay-1])===null||_daysData8===void 0?void 0:_daysData8.tips.length)>0&&/*#__PURE__*/_jsxs(\"div\",{className:`mb-6 ${theme.cardBg} rounded-xl p-4 ${theme.cardBorder}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between cursor-pointer\",onClick:()=>setExpandedTips(!expandedTips),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Coffee,{className:`w-5 h-5 ${theme.highlight}`}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:\"\\u65C5\\u884C\\u5C0F\\u63D0\\u793A\"})]}),/*#__PURE__*/_jsx(\"div\",{className:`p-1 rounded-full ${theme.darkMode?'bg-blue-800':'bg-blue-100'}`,children:expandedTips?/*#__PURE__*/_jsx(\"span\",{className:\"block w-5 h-5 text-center\",children:\"-\"}):/*#__PURE__*/_jsx(\"span\",{className:\"block w-5 h-5 text-center\",children:\"+\"})})]}),expandedTips&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 pl-7\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-2\",children:daysData[selectedDay-1].tips.map((tip,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:`${theme.darkMode?'text-blue-300':'text-blue-500'} mt-1`,children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:tip})]},index))})})]}),((_daysData9=daysData[selectedDay-1])===null||_daysData9===void 0?void 0:_daysData9.accommodation)&&/*#__PURE__*/_jsxs(\"div\",{className:`mb-6 ${theme.cardBg} rounded-xl p-4 ${theme.cardBorder}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between cursor-pointer\",onClick:()=>setExpandedAccommodation(!expandedAccommodation),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Home,{className:`w-5 h-5 ${theme.highlight}`}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:\"\\u4F4F\\u5BBF\\u8CC7\\u8A0A\"})]}),/*#__PURE__*/_jsx(\"div\",{className:`p-1 rounded-full ${theme.darkMode?'bg-blue-800':'bg-blue-100'}`,children:expandedAccommodation?/*#__PURE__*/_jsx(\"span\",{className:\"block w-5 h-5 text-center\",children:\"-\"}):/*#__PURE__*/_jsx(\"span\",{className:\"block w-5 h-5 text-center\",children:\"+\"})})]}),expandedAccommodation&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 pl-7\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:daysData[selectedDay-1].accommodation.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:daysData[selectedDay-1].accommodation.address}),daysData[selectedDay-1].accommodation.transport&&/*#__PURE__*/_jsxs(\"p\",{className:`text-sm ${theme.secondaryText} flex items-center`,children:[/*#__PURE__*/_jsx(Car,{className:\"w-4 h-4 mr-1\"}),daysData[selectedDay-1].accommodation.transport]}),daysData[selectedDay-1].accommodation.mapLink&&/*#__PURE__*/_jsxs(\"a\",{href:daysData[selectedDay-1].accommodation.mapLink,target:\"_blank\",rel:\"noopener noreferrer\",className:`text-sm flex items-center ${theme.highlight}`,children:[/*#__PURE__*/_jsx(MapPin,{className:\"w-4 h-4 mr-1\"}),\"\\u5728 Google \\u5730\\u5716\\u4E2D\\u958B\\u555F\",/*#__PURE__*/_jsx(ExternalLink,{className:\"w-3 h-3 ml-1\"})]}),daysData[selectedDay-1].accommodation.coordinates&&/*#__PURE__*/_jsxs(\"button\",{className:`mt-2 px-4 py-2 ${theme.button} text-white rounded flex items-center gap-2 text-sm`,onClick:()=>{var _document$querySelect2;setLocalSelectedMarker(daysData[selectedDay-1].accommodation.coordinates);setSelectedMarker(daysData[selectedDay-1].accommodation.coordinates);// 滾動到地圖\n(_document$querySelect2=document.querySelector('.map-section'))===null||_document$querySelect2===void 0?void 0:_document$querySelect2.scrollIntoView({behavior:'smooth'});},children:[/*#__PURE__*/_jsx(MapPin,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u5728\\u5730\\u5716\\u4E2D\\u986F\\u793A\\u4F4F\\u5BBF\\u5730\\u9EDE\"})]})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-hidden rounded-xl shadow-lg map-section\",children:selectedDayLocations.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:`absolute top-0 left-0 right-0 z-10 ${theme.darkMode?'bg-gradient-to-b from-blue-900 to-transparent':'bg-gradient-to-b from-white to-transparent'} h-8 opacity-70`}),process.env.REACT_APP_GOOGLE_MAPS_API_KEY?/*#__PURE__*/_jsx(MapComponent,{locations:selectedDayLocations,selectedMarker:selectedMarker,setSelectedMarker:marker=>{setLocalSelectedMarker(marker);setSelectedMarker(marker);},darkMode:theme.darkMode,theme:theme,getActivityForLocation:getActivityForLocation}):/*#__PURE__*/_jsx(FallbackMapComponent,{locations:selectedDayLocations,days:daysData,selectedDay:selectedDay,darkMode:theme.darkMode,theme:theme,selectedMarker:selectedMarker}),/*#__PURE__*/_jsx(\"div\",{className:`absolute bottom-0 left-0 right-0 z-10 ${theme.darkMode?'bg-gradient-to-t from-blue-900 to-transparent':'bg-gradient-to-t from-white to-transparent'} h-8 opacity-70`})]}):/*#__PURE__*/_jsx(\"div\",{className:`${theme.darkMode?'bg-blue-800 bg-opacity-30':'bg-blue-50'} h-64 flex items-center justify-center`,children:/*#__PURE__*/_jsx(\"p\",{children:\"\\u6B64\\u65E5\\u671F\\u7121\\u5730\\u5716\\u6A19\\u8A18\\u9EDE\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 bg-white bg-opacity-10 backdrop-blur-md rounded-lg shadow-lg p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-4\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:`w-6 h-6 ${theme.darkMode?'text-yellow-300':'text-yellow-600'}`}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold\",children:\"\\u6CE8\\u610F\\u4E8B\\u9805\"})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:theme.darkMode?'text-yellow-300':'text-yellow-600',children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u4EE5\\u4E0A\\u6642\\u9593\\u7686\\u70BA\\u9810\\u4F30\\uFF0C\\u5BE6\\u969B\\u60C5\\u6CC1\\u53EF\\u80FD\\u56E0\\u4EA4\\u901A\\u3001\\u5929\\u6C23\\u3001\\u500B\\u4EBA\\u6B65\\u8ABF\\u7B49\\u56E0\\u7D20\\u6709\\u6240\\u5DEE\\u7570\\u3002\"})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:theme.darkMode?'text-yellow-300':'text-yellow-600',children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u51AC\\u5B63\\u51B0\\u5CF6\\u5929\\u6C23\\u591A\\u8B8A\\uFF0C\\u884C\\u524D\\u8ACB\\u52D9\\u5FC5\\u95DC\\u6CE8\\u5929\\u6C23\\u9810\\u5831\\u53CA\\u8DEF\\u6CC1\\u8CC7\\u8A0A\\uFF0C\\u4E26\\u9810\\u7559\\u66F4\\u5145\\u88D5\\u7684\\u4EA4\\u901A\\u6642\\u9593\\u3002\"})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:theme.darkMode?'text-yellow-300':'text-yellow-600',children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u666F\\u9EDE\\u505C\\u7559\\u6642\\u9593\\u70BA\\u7D9C\\u5408\\u7DB2\\u8DEF\\u8CC7\\u8A0A\\u53CA\\u4E00\\u822C\\u904A\\u5BA2\\u7D93\\u9A57\\u6240\\u5EFA\\u8B70\\u7684\\u53C3\\u8003\\u6642\\u9577\\uFF0C\\u60A8\\u53EF\\u4EE5\\u4F9D\\u7167\\u500B\\u4EBA\\u8208\\u8DA3\\u53CA\\u884C\\u7A0B\\u5F48\\u6027\\u8ABF\\u6574\\u3002\"})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:theme.darkMode?'text-yellow-300':'text-yellow-600',children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u51B0\\u5CF6\\u7DCA\\u6025\\u96FB\\u8A71\\uFF1A112\\u3002\\u4E0B\\u8F09\\u51B0\\u5CF6112\\u5B98\\u65B9\\u61C9\\u7528\\u7A0B\\u5F0F\\uFF0C\\u53EF\\u5728\\u7DCA\\u6025\\u60C5\\u6CC1\\u4E0B\\u5FEB\\u901F\\u6C42\\u52A9\\u3002\"})]})]})]})]});};export default EnhancedItinerary;","map":{"version":3,"names":["React","useState","Calendar","MapPin","Sun","Sunset","Clock","ExternalLink","Navigation","AlertCircle","Coffee","Home","Car","Info","MapComponent","FallbackMapComponent","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EnhancedItinerary","_ref","_daysData","_daysData3","_daysData4","_daysData5","_daysData6","_daysData7","_daysData8","_daysData9","theme","setSelectedMarker","selectedDay","setSelectedDay","expandedActivity","setExpandedActivity","expandedTips","setExpandedTips","expandedAccommodation","setExpandedAccommodation","selectedMarker","setLocalSelectedMarker","daysData","date","title","sunrise","sunset","activities","type","time","location","coordinates","lat","lng","mapLink","image","description","transportTips","notes","tips","accommodation","name","address","duration","transport","details","meetingPoint","selectedDayLocations","filter","activity","map","toggleActivityExpansion","index","getActivityForLocation","_daysData2","find","formatCoordinates","toFixed","children","className","day","onClick","darkMode","cardBg","cardBorder","highlight","secondaryText","href","target","rel","e","stopPropagation","Array","isArray","detail","i","length","tip","button","_document$querySelect","document","querySelector","scrollIntoView","behavior","_document$querySelect2","process","env","REACT_APP_GOOGLE_MAPS_API_KEY","locations","marker","days"],"sources":["C:/Users/wesle/OneDrive - KU Leuven/Desktop/Iceland/my-iceland-trip-website/src/components/iceland-trip/EnhancedItinerary.js"],"sourcesContent":["// src/components/iceland-trip/EnhancedItinerary.js\r\nimport React, { useState } from 'react';\r\nimport { Calendar, MapPin, Sun, Sunset, Clock, ExternalLink, Navigation, AlertCircle, Coffee, Home, Car, Info } from 'lucide-react';\r\nimport MapComponent, { FallbackMapComponent } from './MapComponent';\r\n\r\nconst EnhancedItinerary = ({ theme, setSelectedMarker }) => {\r\n  const [selectedDay, setSelectedDay] = useState(1);\r\n  const [expandedActivity, setExpandedActivity] = useState(null);\r\n  const [expandedTips, setExpandedTips] = useState(false);\r\n  const [expandedAccommodation, setExpandedAccommodation] = useState(false);\r\n  const [selectedMarker, setLocalSelectedMarker] = useState(null);\r\n\r\n  // Detailed itinerary data based on the provided information\r\n  const daysData = [\r\n    {\r\n      date: \"3/2 (六)\",\r\n      title: \"抵達冰島\",\r\n      sunrise: \"08:32\",\r\n      sunset: \"18:50\",\r\n      activities: [\r\n        {\r\n          type: \"航班抵達\",\r\n          time: \"23:20\",\r\n          location: \"凱夫拉維克國際機場 (Keflavík International Airport, KEF)\",\r\n          coordinates: { lat: 63.985, lng: -22.605 },\r\n          mapLink: \"https://maps.app.goo.gl/4Vxvw7nwidhKZNtK9\",\r\n          image: \"/api/placeholder/500/300\",\r\n          description: \"抵達冰島的第一天，我們將從凱夫拉維克國際機場開始我們的冰島冒險。\",\r\n          transportTips: [\r\n            \"機場巴士：Flybus 或 Airport Direct，車程約 45 分鐘到 Keflavík。\",\r\n            \"租車：機場租車，車程約 15-20 分鐘到住宿。\",\r\n            \"出租車：車程約 15-20 分鐘，費用較高。\"\r\n          ],\r\n          notes: \"抵達時間較晚，建議提前預訂交通並盡快前往住宿休息。\"\r\n        }\r\n      ],\r\n      tips: [\r\n        \"機場免稅店的酒類（如冰島伏特加 Brennivín）價格比市區便宜，適合購買紀念品。\"\r\n      ],\r\n      accommodation: {\r\n        name: \"Sailors House\",\r\n        address: \"Álftatjörn 3 260, 260 Keflavík, 冰島\",\r\n        coordinates: { lat: 64.0100, lng: -22.5620 },\r\n        mapLink: \"https://maps.app.goo.gl/4Vxvw7nwidhKZNtK9\"\r\n      }\r\n    },\r\n    {\r\n      date: \"3/3 (日)\",\r\n      title: \"斯耐山半島初探\",\r\n      sunrise: \"08:28\",\r\n      sunset: \"18:53\",\r\n      activities: [\r\n        {\r\n          time: \"上午\",\r\n          location: \"Gunnuhver 火山地熱景點\",\r\n          address: \"Möðruvallavegur, Möðruvellir, 冰島\",\r\n          coordinates: { lat: 63.8194, lng: -22.6858 },\r\n          mapLink: \"https://maps.app.goo.gl/fypu5z2ydsVusU7W6\",\r\n          duration: \"1-1.5 小時\",\r\n          transport: \"從 Keflavík 出發，車程約 1 小時。\",\r\n          image: \"/api/placeholder/500/300\",\r\n          description: \"參觀火山地熱區，欣賞泥漿池和噴氣孔等特殊地貌\",\r\n          notes: \"地熱區地面濕滑，建議穿防滑鞋並遠離危險區域。\"\r\n        },\r\n        {\r\n          time: \"14:20\",\r\n          type: \"接機\",\r\n          location: \"凱夫拉維克國際機場 (KEF)\",\r\n          coordinates: { lat: 63.985, lng: -22.605 },\r\n          mapLink: \"https://maps.app.goo.gl/4Vxvw7nwidhKZNtK9\",\r\n          transport: \"從 Gunnuhver 返回 KEF 機場，車程約 1 小時。\"\r\n        },\r\n        {\r\n          time: \"下午\",\r\n          location: \"教會山瀑布 (Kirkjufellsfossar)\",\r\n          address: \"WMGQ+FFJ, 351 Grundarfjörður, 冰島\",\r\n          coordinates: { lat: 64.9275, lng: -23.3117 },\r\n          mapLink: \"https://maps.app.goo.gl/rVsDMv7DSTQyb1tU7\",\r\n          transport: \"從 KEF 機場出發，車程約 2.5 小時。\",\r\n          image: \"/api/placeholder/500/300\",\r\n          description: \"欣賞冰島最具標誌性的山峰之一，特別是在黃昏時分美景更加壯觀\",\r\n          notes: \"建議攜帶相機和三腳架，捕捉日落時分的美景。\"\r\n        }\r\n      ],\r\n      tips: [\r\n        \"Gunnuhver 蒸汽濃密，建議攜帶防水相機保護設備。\",\r\n        \"Kirkjufellsfossar 在冬季結冰時更顯夢幻，日落時段是最佳攝影時機。\",\r\n        \"Grundarfjörður 有機會看到極光，建議下載極光預報 App（如 Aurora Forecast）。\"\r\n      ],\r\n      accommodation: {\r\n        name: \"格倫達菲厄澤旅舍\",\r\n        address: \"Hlidarvegur 15, 350 格倫達菲厄澤, 冰島\",\r\n        coordinates: { lat: 64.9186, lng: -23.2533 },\r\n        mapLink: \"https://maps.app.goo.gl/ANQBh6dRLC7jC18C7\"\r\n      }\r\n    },\r\n    {\r\n      date: \"3/4 (一)\",\r\n      title: \"斯耐山半島深度旅遊\",\r\n      sunrise: \"08:25\",\r\n      sunset: \"18:56\",\r\n      activities: [\r\n        {\r\n          location: \"草帽山 (Kirkjufell)\",\r\n          coordinates: { lat: 64.97, lng: -23.82 },\r\n          mapLink: \"https://maps.app.goo.gl/mwG2d6veTWA2RVYa9\",\r\n          duration: \"再次欣賞\",\r\n          details: \"可再次欣賞不同角度的草帽山\",\r\n          image: \"/api/placeholder/500/300\",\r\n          description: \"從不同角度欣賞教會山的獨特外觀，早晨的光線會讓它呈現不同的面貌。\"\r\n        },\r\n        {\r\n          location: \"Svörtuloft 懸崖\",\r\n          coordinates: { lat: 64.86, lng: -24.11 },\r\n          mapLink: \"https://maps.app.goo.gl/KMWzGLxYSjNTFttz8\",\r\n          duration: \"1 小時\",\r\n          transport: \"教會山 → Svörtuloft，車程約 19 分鐘\",\r\n          image: \"/api/placeholder/500/300\",\r\n          description: \"欣賞懸崖海景，壯觀的海浪拍打黑色岩石海岸的景象令人震撼。\"\r\n        },\r\n        {\r\n          location: \"Djúpalónssandur 黑沙灘\",\r\n          coordinates: { lat: 64.7528, lng: -23.8969 },\r\n          mapLink: \"https://maps.app.goo.gl/whY98pZEGhGeaEPr9\",\r\n          duration: \"1.5 - 2 小時\",\r\n          transport: \"Svörtuloft → Djúpalónssandur，車程約 9 分鐘\",\r\n          image: \"/api/placeholder/500/300\",\r\n          description: \"體驗搬石頭、漫步黑沙灘，欣賞獨特的黑色卵石沙灘和船難遺跡。\"\r\n        },\r\n        {\r\n          location: \"Arnarstapi 石拱\",\r\n          coordinates: { lat: 64.7667, lng: -23.6167 },\r\n          mapLink: \"https://maps.app.goo.gl/dHB1f17pDo8qznbc8\",\r\n          duration: \"1-1.5 小時\",\r\n          transport: \"Djúpalónssandur → Arnarstapi，車程約 17 分鐘\",\r\n          image: \"/api/placeholder/500/300\",\r\n          description: \"欣賞石拱、海蝕柱，沿著海岸線徒步欣賞火山岩地貌和豐富的鳥類。\"\r\n        },\r\n        {\r\n          location: \"布迪爾黑教堂 (Búðakirkja)\",\r\n          coordinates: { lat: 64.8222, lng: -23.385 },\r\n          mapLink: \"https://maps.app.goo.gl/fSFbhagdkidZ3JPc8\",\r\n          duration: \"30-45 分鐘\",\r\n          transport: \"Arnarstapi → 布迪爾黑教堂，車程約 24 分鐘\",\r\n          image: \"/api/placeholder/500/300\",\r\n          description: \"參觀黑教堂、拍照，這座黑色木結構小教堂與周圍熔岩荒原形成鮮明對比。\"\r\n        },\r\n        {\r\n          type: \"備用景點\",\r\n          location: \"瓦汀舍利爾洞穴 (Vatnshellir Cave)\",\r\n          coordinates: { lat: 64.75, lng: -23.8167 },\r\n          mapLink: \"https://maps.app.goo.gl/LjpbjS9fQpBJpiU68\",\r\n          duration: \"1 小時\",\r\n          details: \"洞穴導覽行程\",\r\n          notes: \"洞穴探險需預訂導覽（約 45 分鐘），穿保暖衣物和防滑鞋。\",\r\n          image: \"/api/placeholder/500/300\",\r\n          description: \"這是一個8000年前形成的熔岩洞穴，可以參加導覽團深入地下35米，探索獨特的地下世界。\"\r\n        }\r\n      ],\r\n      tips: [\r\n        \"Djúpalónssandur 的「力量石」是維京傳統，挑戰舉起最小塊（54 公斤）體驗歷史。\",\r\n        \"Vatnshellir 洞穴內溫度約 0°C，建議穿羽絨服與手套。\"\r\n      ],\r\n      accommodation: {\r\n        name: \"Kirkjuteigur 23 2nd\",\r\n        address: \"Kirkjuteigur 23 2nd, 105 Reykjavík, 冰島\",\r\n        coordinates: { lat: 64.1436, lng: -21.9186 },\r\n        mapLink: \"https://maps.app.goo.gl/qh7qv3thg8k1LgxV6\",\r\n        transport: \"從斯耐山半島返回雷克雅維克，車程約 2.5 小時。\"\r\n      }\r\n    },\r\n    {\r\n      date: \"3/5 (二)\",\r\n      title: \"黃金圈之旅\",\r\n      sunrise: \"08:21\",\r\n      sunset: \"18:59\",\r\n      activities: [\r\n        {\r\n          location: \"Þingvellir 國家公園\",\r\n          coordinates: { lat: 64.2559, lng: -21.1305 },\r\n          mapLink: \"https://maps.app.goo.gl/mY9YpmZhL1eJqm7eA\",\r\n          duration: \"2-3 小時\",\r\n          transport: \"雷克雅維克 → Þingvellir，車程約 45 分鐘，停車費 €5\",\r\n          details: \"地質奇觀、歷史遺跡巡禮\",\r\n          image: \"/api/placeholder/500/300\",\r\n          description: \"這裡是歐亞板塊與北美板塊的交界處，也是世界上最古老的議會所在地。您可以在兩個大陸之間的裂縫中漫步，感受地質活動的壯觀。\"\r\n        },\r\n        {\r\n          location: \"Geysir 間歇泉\",\r\n          coordinates: { lat: 64.3104, lng: -20.3024 },\r\n          mapLink: \"https://maps.app.goo.gl/8svau2duFMa48Vaa9\",\r\n          duration: \"1-1.5 小時\",\r\n          transport: \"Þingvellir → Geysir，車程約 1 小時\",\r\n          details: \"觀賞間歇泉噴發\",\r\n          image: \"/api/placeholder/500/300\",\r\n          description: \"Geysir地熱區以其間歇泉Strokkur而聞名，每隔5-10分鐘就會噴發一次，水柱高度可達20-30米。\"\r\n        },\r\n        {\r\n          location: \"Gullfoss 瀑布\",\r\n          coordinates: { lat: 64.3275, lng: -20.1214 },\r\n          mapLink: \"https://maps.app.goo.gl/PgbRnYcgSPMTbS777\",\r\n          duration: \"1-1.5 小時\",\r\n          transport: \"Geysir → Gullfoss，車程約 10 分鐘\",\r\n          details: \"欣賞壯闊瀑布\",\r\n          image: \"/api/placeholder/500/300\",\r\n          description: \"Gullfoss是冰島最著名的瀑布之一，水流分兩段落下32米深的峽谷，氣勢磅礴。在陽光照射下，水霧中常常會出現彩虹。\"\r\n        },\r\n        {\r\n          location: \"Glymur 瀑布\",\r\n          coordinates: { lat: 64.3905, lng: -21.2515 },\r\n          mapLink: \"https://maps.app.goo.gl/pSrV15rv3HccJHff8\",\r\n          duration: \"3-4 小時\",\r\n          transport: \"Gullfoss → Glymur（經雷克雅維克）：約 1.5 小時\",\r\n          details: \"徒步觀賞冰島第二高瀑布\",\r\n          notes: \"Glymur 瀑布需徒步 3-4 小時往返，穿徒步鞋並攜帶水和食物。\",\r\n          image: \"/api/placeholder/500/300\",\r\n          description: \"冰島第二高的瀑布，壯麗的景色需要透過一段有挑戰性的徒步才能欣賞到。\"\r\n        }\r\n      ],\r\n      tips: [\r\n        \"Þingvellir 的 Silfra 裂縫水溫僅 2°C，若參加浮潛需穿全套保暖潛水衣。\",\r\n        \"Geysir 的 Strokkur 間歇泉噴發高度可達 20-40 公尺，站在上風處避免蒸汽。\"\r\n      ],\r\n      accommodation: {\r\n        name: \"Vík Hostel\",\r\n        address: \"Suðurvíkurvegur 5, 870 維克, 冰島\",\r\n        coordinates: { lat: 63.4184, lng: -19.0064 },\r\n        mapLink: \"https://maps.app.goo.gl/AyuTnCpR1FHBAFe69\",\r\n        transport: \"從 Gullfoss 前往 Vík，車程約 2.5 小時。\"\r\n      }\r\n    },\r\n    {\r\n      date: \"3/6 (三)\",\r\n      title: \"南岸瀑布與黑沙灘\",\r\n      sunrise: \"08:18\",\r\n      sunset: \"19:02\",\r\n      activities: [\r\n        {\r\n          location: \"塞里雅蘭瀑布 (Seljalandsfoss)\",\r\n          coordinates: { lat: 63.615, lng: -19.991 },\r\n          duration: \"1.5-2 小時\",\r\n          transport: \"Vík → Seljalandsfoss：約 1 小時\",\r\n          details: \"體驗水簾洞瀑布\",\r\n          image: \"/api/placeholder/500/300\",\r\n          description: \"塞里雅蘭瀑布的特別之處在於可以走到瀑布後面，從水簾後方欣賞景色，是一種獨特的體驗。\"\r\n        },\r\n        {\r\n          location: \"斯科加瀑布 (Skógafoss)\",\r\n          coordinates: { lat: 63.532, lng: -19.511 },\r\n          duration: \"1-1.5 小時\",\r\n          transport: \"塞里雅蘭瀑布 → 斯科加瀑布：約 30 分鐘\",\r\n          details: \"爬階梯登頂、欣賞彩虹瀑布\",\r\n          image: \"/api/placeholder/500/300\",\r\n          description: \"斯科加瀑布寬60米，高25米，水量充沛。可以沿著階梯爬到瀑布頂部，俯瞰周圍的美麗風景。陽光照射下，瀑布前常出現單彩或雙彩虹。\"\r\n        },\r\n        {\r\n          location: \"Kvernufoss 瀑布\",\r\n          coordinates: { lat: 63.5267, lng: -19.4788 },\r\n          mapLink: \"https://maps.app.goo.gl/6nPzKzL8mK9nP8zL7\",\r\n          duration: \"1 小時\",\r\n          transport: \"Skógafoss → Kvernufoss：徒步約 20 分鐘\",\r\n          details: \"隱藏瀑布，較少遊客\",\r\n          image: \"/api/placeholder/500/300\",\r\n          description: \"一個較少人知道的隱藏瀑布，從斯科加瀑布徒步即可到達，可以走到瀑布後面。\"\r\n        },\r\n        {\r\n          location: \"維克黑沙灘 (Reynisfjara)\",\r\n          coordinates: { lat: 63.406, lng: -19.044 },\r\n          duration: \"1.5-2 小時\",\r\n          transport: \"斯科加瀑布 → 維克黑沙灘：約 30 分鐘\",\r\n          details: \"欣賞玄武岩柱、海蝕洞\",\r\n          image: \"/api/placeholder/500/300\",\r\n          description: \"這是冰島最著名的黑沙灘，特色是黑色的沙子、壯觀的玄武岩柱和海中的巨石。\"\r\n        },\r\n        {\r\n          location: \"Dyrhólaey 海崖與燈塔\",\r\n          coordinates: { lat: 63.3996, lng: -19.1263 },\r\n          mapLink: \"https://maps.app.goo.gl/7nKzP9QzPJug3e298\",\r\n          duration: \"1 小時\",\r\n          transport: \"Reynisfjara → Dyrhólaey：約 15 分鐘\",\r\n          details: \"欣賞海崖和燈塔\",\r\n          image: \"/api/placeholder/500/300\",\r\n          description: \"可以欣賞到壯觀的海崖和遠處的黑沙灘，夏季還可能看到海鸚鵡。\"\r\n        }\r\n      ],\r\n      tips: [\r\n        \"Seljalandsfoss 後方步道濕滑，穿防水外套避免被水花淋濕。\",\r\n        \"Reynisfjara 的「潛浪」極具危險性，務必遠離海邊至少 30 公尺。\",\r\n        \"Skógafoss 登頂階梯約 400 階，建議攜帶水並穿保暖透氣衣物。\"\r\n      ],\r\n      accommodation: {\r\n        name: \"Suðurvíkurvegur 5\",\r\n        address: \"Suðurvíkurvegur 5, 870 Vík, 冰島\",\r\n        coordinates: { lat: 63.4184, lng: -19.0064 },\r\n        mapLink: \"https://maps.app.goo.gl/AyuTnCpR1FHBAFe69\"\r\n      }\r\n    },\r\n    {\r\n      date: \"3/7 (四)\",\r\n      title: \"蝙蝠山攝影之旅\",\r\n      sunrise: \"08:14\",\r\n      sunset: \"19:05\",\r\n      activities: [\r\n        {\r\n          location: \"Víkurfjara 黑沙灘與 Reynisdrangar\",\r\n          coordinates: { lat: 63.4045, lng: -19.0735 },\r\n          mapLink: \"https://maps.app.goo.gl/WzNmP9QzPJug3e298\",\r\n          duration: \"1 小時\",\r\n          transport: \"Vík → Víkurfjara：約 5 分鐘\",\r\n          details: \"黑沙灘與海中石柱\",\r\n          image: \"/api/placeholder/500/300\",\r\n          description: \"從不同角度欣賞Reynisdrangar海中石柱，是拍攝日出的絕佳地點。\"\r\n        },\r\n        {\r\n          location: \"Fjaðrárgljúfur 峽谷\",\r\n          coordinates: { lat: 63.7711, lng: -18.1719 },\r\n          mapLink: \"https://maps.app.goo.gl/8nPqKzL8mK9nP8zL7\",\r\n          duration: \"1-2 小時\",\r\n          transport: \"Vík → Fjaðrárgljúfur：約 1 小時\",\r\n          details: \"壯觀的苔蘚覆蓋峽谷\",\r\n          image: \"/api/placeholder/500/300\",\r\n          description: \"令人驚嘆的綠色苔蘚覆蓋峽谷，有幾個觀景平台可以俯瞰整個峽谷。\"\r\n        },\r\n        {\r\n          location: \"傑古沙龍冰河湖 (Jökulsárlón)\",\r\n          coordinates: { lat: 64.047, lng: -16.181 },\r\n          duration: \"2-3 小時\",\r\n          transport: \"Fjaðrárgljúfur → 冰河湖：約 2 小時\",\r\n          details: \"欣賞冰河湖、鑽石沙灘\",\r\n          image: \"/api/placeholder/500/300\",\r\n          description: \"冰河湖中漂浮著藍白相間的冰山，是冰島最令人驚嘆的自然奇觀之一。附近的鑽石沙灘有許多冰塊被沖上岸，在陽光下閃閃發光如同鑽石。\"\r\n        },\r\n        {\r\n          location: \"蝙蝠山 (Vestrahorn)\",\r\n          coordinates: { lat: 64.248, lng: -14.987 },\r\n          duration: \"2-3 小時\",\r\n          transport: \"冰河湖 → 蝙蝠山：約 1 小時\",\r\n          details: \"拍攝點：黑沙灘與雪山倒影\",\r\n          image: \"/api/placeholder/500/300\",\r\n          description: \"蝙蝠山是冰島東部最著名的山峰之一，其尖峭的山峰與前方的黑沙灘形成強烈對比，是攝影愛好者必訪的地點。\"\r\n        }\r\n      ],\r\n      tips: [\r\n        \"Vestrahorn 的 Stokksnes 海灘在漲潮時反射效果最佳，建議查詢潮汐時間。\",\r\n        \"Hvalnes Lighthouse 周圍有野生海豹，攜帶望遠鏡或長焦鏡頭可捕捉畫面。\"\r\n      ],\r\n      accommodation: {\r\n        name: \"霍芬旅館\",\r\n        address: \"Hvannabraut 3, 780 霍芬, 冰島\",\r\n        coordinates: { lat: 64.253, lng: -15.209 },\r\n        mapLink: \"https://maps.app.goo.gl/EusbSPi87oxx6yhS8\"\r\n      }\r\n    },\r\n    {\r\n      date: \"3/8 (五)\",\r\n      title: \"冰川健行與藍冰洞\",\r\n      sunrise: \"08:11\",\r\n      sunset: \"19:08\",\r\n      activities: [\r\n        {\r\n          time: \"9:00 - 15:00\",\r\n          location: \"Vatnajökull 冰川健行與藍冰洞探險\",\r\n          meetingPoint: \"Glacier Adventure Base Camp, Hali\",\r\n          coordinates: { lat: 64.25, lng: -15.85 },\r\n          mapLink: \"https://maps.app.goo.gl/2xtMhLici6W8Udzo8\",\r\n          transport: \"從霍芬出發，車程約 1 小時。\",\r\n          details: \"藍冰洞探險（參團，約6小時）\",\r\n          image: \"/api/placeholder/500/300\",\r\n          description: \"藍冰洞是冬季限定的自然奇觀，冰川融水在夏季形成通道，冬季凍結後形成藍色冰洞。在洞內，冰川冰呈現出不可思議的藍色調，是攝影師的天堂。\",\r\n          notes: \"穿保暖防水衣物和登山鞋。\"\r\n        }\r\n      ],\r\n      tips: [\r\n        \"藍冰洞內光線柔和，建議用慢速快門拍攝（1/15 秒以上）捕捉冰藍色澤。\",\r\n        \"Hali 的餐廳提供熱羊肉湯，適合健行後補充能量。\"\r\n      ],\r\n      accommodation: {\r\n        name: \"Stóra-Mörk III Guesthouse\",\r\n        address: \"Stóra Mörk, 861 Stora Mork, 冰島\",\r\n        coordinates: { lat: 64.05, lng: -19.95 },\r\n        mapLink: \"https://maps.app.goo.gl/TaMB8iSBSRRRzmKc7\",\r\n        transport: \"從 Hali 返回 Stóra Mörk，車程約 2.5 小時。\"\r\n      }\r\n    },\r\n    {\r\n      date: \"3/9 (六)\",\r\n      title: \"返回雷克雅維克與 Sky Lagoon\",\r\n      sunrise: \"08:07\",\r\n      sunset: \"19:11\",\r\n      activities: [\r\n        {\r\n          time: \"上午\",\r\n          type: \"市區觀光\",\r\n          location: \"雷克雅維克市區漫遊\",\r\n          details: [\r\n            \"哈爾格林姆斯教堂 - 64.1417° N, 21.9278° W - https://maps.app.goo.gl/qzLnP9QzPJug3e298\",\r\n            \"哈帕音樂廳 - 64.1500° N, 21.9333° W - https://maps.app.goo.gl/rzMnP9QzPJug3e298\"\r\n          ],\r\n          transport: \"Stóra-Mörk → 雷克雅維克，車程約 2.5 小時。\",\r\n          notes: \"建議提前購買教堂塔頂門票。\",\r\n          image: \"/api/placeholder/500/300\",\r\n          description: \"在雷克雅維克市中心漫步，參觀標誌性的哈爾格林姆教堂和哈帕音樂廳等地標建築。\"\r\n        },\r\n        {\r\n          time: \"16:00\",\r\n          location: \"Sky Lagoon\",\r\n          coordinates: { lat: 64.1285, lng: -21.94 },\r\n          mapLink: \"https://maps.app.goo.gl/qzLnP9QzPJug3e298\",\r\n          duration: \"2-3 小時\",\r\n          transport: \"從雷克雅維克市中心出發，車程約 15 分鐘。\",\r\n          details: \"享受海景溫泉、放鬆\",\r\n          notes: \"攜帶泳衣和毛巾，需提前預訂。\",\r\n          image: \"/api/placeholder/500/300\",\r\n          description: \"Sky Lagoon是一個新開的溫泉，擁有無邊際的設計，可以一邊泡在溫泉中，一邊欣賞大西洋的壯麗景色。\"\r\n        }\r\n      ],\r\n      tips: [\r\n        \"Laugavegur 街有二手店，可淘到獨特冰島毛衣（Lopapeysa）。\",\r\n        \"哈爾格林姆斯教堂塔頂票價約 1000 ISK，建議準備現金。\"\r\n      ],\r\n      accommodation: {\r\n        name: \"Kirkjuteigur 23 2nd\",\r\n        address: \"Kirkjuteigur 23 2nd, 105 Reykjavík, 冰島\",\r\n        coordinates: { lat: 64.1436, lng: -21.9186 },\r\n        mapLink: \"https://maps.app.goo.gl/qh7qv3thg8k1LgxV6\"\r\n      }\r\n    },\r\n    {\r\n      date: \"3/10 (日)\",\r\n      title: \"快樂返程\",\r\n      sunrise: \"08:04\",\r\n      sunset: \"19:14\",\r\n      activities: [\r\n        {\r\n          time: \"09:00\",\r\n          type: \"抵達 KEF 機場\",\r\n          location: \"凱夫拉維克國際機場 (KEF)\",\r\n          coordinates: { lat: 63.985, lng: -22.605 },\r\n          mapLink: \"https://maps.app.goo.gl/4Vxvw7nwidhKZNtK9\",\r\n          transport: \"從雷克雅維克出發，車程約 45 分鐘。\",\r\n          details: \"搭機返回\",\r\n          notes: \"提前 2-3 小時抵達機場，辦理登機手續並退租車。\",\r\n          image: \"/api/placeholder/500/300\",\r\n          description: \"結束我們的冰島旅程，帶著滿滿的回憶和照片返程。\"\r\n        }\r\n      ],\r\n      tips: [\r\n        \"KEF 機場退稅櫃檯需提前排隊，建議預留 30 分鐘辦理。\",\r\n        \"機場的 Bónus 超市販售平價三明治，適合作為登機前早餐。\",\r\n        \"確認租車歸還時油箱已加滿，避免額外費用。\"\r\n      ]\r\n    }\r\n  ];\r\n\r\n  // 計算當前選定天數的所有地點 (有座標的活動)\r\n  const selectedDayLocations =\r\n    daysData[selectedDay - 1]?.activities\r\n      .filter(activity => activity.coordinates)\r\n      .map(activity => activity.coordinates) || [];\r\n\r\n  const toggleActivityExpansion = (index) => {\r\n    if (expandedActivity === index) {\r\n      setExpandedActivity(null);\r\n    } else {\r\n      setExpandedActivity(index);\r\n    }\r\n  };\r\n\r\n  // 找到當前選擇的標記相關的活動\r\n  const getActivityForLocation = (location) => {\r\n    return daysData[selectedDay - 1]?.activities.find(activity => \r\n      activity.coordinates && \r\n      activity.coordinates.lat === location.lat && \r\n      activity.coordinates.lng === location.lng\r\n    );\r\n  };\r\n\r\n  // 生成簡單的座標文本\r\n  const formatCoordinates = (coordinates) => {\r\n    if (!coordinates) return \"\";\r\n    return `${coordinates.lat.toFixed(4)}°N, ${coordinates.lng.toFixed(4)}°E`;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* Date selector - 行程日期選擇器 */}\r\n      <div className=\"mb-6 overflow-x-auto pb-2\">\r\n        <div className=\"flex space-x-2\">\r\n          {daysData.map((day, index) => (\r\n            <button\r\n              key={index}\r\n              onClick={() => setSelectedDay(index + 1)}\r\n              className={`px-4 py-3 rounded-lg flex-shrink-0 transition-all transform ${\r\n                selectedDay === index + 1\r\n                  ? `${theme.darkMode ? 'bg-blue-500' : 'bg-blue-600'} text-white shadow-lg scale-105`\r\n                  : `${theme.darkMode ? 'bg-white bg-opacity-10 hover:bg-opacity-20' : 'bg-white hover:bg-blue-50'}`\r\n              }`}\r\n            >\r\n              <div className=\"text-sm font-medium\">{day.date}</div>\r\n              <div className=\"text-xs truncate max-w-32\">{day.title}</div>\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Current day info - 日出日落 */}\r\n      <div className={`mb-6 ${theme.cardBg} rounded-xl p-4 ${theme.cardBorder}`}>\r\n        <div className=\"flex items-center gap-3 mb-2\">\r\n          <Calendar className={`w-5 h-5 ${theme.highlight}`} />\r\n          <h3 className=\"text-xl font-semibold\">\r\n            {daysData[selectedDay - 1]?.title}\r\n          </h3>\r\n        </div>\r\n        <div className={`mt-2 flex items-center gap-4 text-sm ${theme.secondaryText}`}>\r\n          <div className=\"flex items-center gap-1\">\r\n            <Sun className={`w-4 h-4 ${theme.darkMode ? 'text-amber-400' : 'text-amber-500'}`} />\r\n            <span>日出: {daysData[selectedDay - 1]?.sunrise}</span>\r\n          </div>\r\n          <div className=\"flex items-center gap-1\">\r\n            <Sunset className={`w-4 h-4 ${theme.darkMode ? 'text-amber-500' : 'text-amber-600'}`} />\r\n            <span>日落: {daysData[selectedDay - 1]?.sunset}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Activities - 行程表 */}\r\n      <div className=\"space-y-4 mb-6\">\r\n        <h3 className={`text-lg font-semibold flex items-center gap-2 mb-4`}>\r\n          <Calendar className={`h-5 w-5 ${theme.highlight}`} />\r\n          <span>當日行程</span>\r\n        </h3>\r\n        \r\n        {daysData[selectedDay - 1]?.activities.map((activity, index) => (\r\n          <div key={index} className={`${theme.cardBg} rounded-xl p-4 ${theme.cardBorder}`}>\r\n            <div>\r\n              {/* 活動標題區 */}\r\n              <div \r\n                className=\"flex items-start gap-3 cursor-pointer\"\r\n                onClick={() => toggleActivityExpansion(index)}\r\n              >\r\n                <MapPin className={`w-5 h-5 ${theme.highlight} mt-1 flex-shrink-0`} />\r\n                <div className=\"flex-grow\">\r\n                  <div className=\"flex justify-between items-center\">\r\n                    <h3 className=\"font-semibold text-lg\">\r\n                      {activity.time && `${activity.time} - `}\r\n                      {activity.location || activity.type}\r\n                    </h3>\r\n                    <div className={`ml-2 p-1 rounded-full ${theme.darkMode ? 'bg-blue-800' : 'bg-blue-100'}`}>\r\n                      {expandedActivity === index ? (\r\n                        <span className=\"block w-5 h-5 text-center\">-</span>\r\n                      ) : (\r\n                        <span className=\"block w-5 h-5 text-center\">+</span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  {/* 基本資訊始終顯示 */}\r\n                  {activity.duration && (\r\n                    <p className={`${theme.secondaryText} text-sm`}>\r\n                      建議停留：{activity.duration}\r\n                    </p>\r\n                  )}\r\n                  {activity.transport && (\r\n                    <p className={`${theme.secondaryText} text-sm mt-1 flex items-center`}>\r\n                      <Car className={`w-4 h-4 inline mr-2 ${theme.highlight}`} />\r\n                      {activity.transport}\r\n                    </p>\r\n                  )}\r\n                  {/* Coordinates are used for the map but not displayed */}\r\n                  {activity.mapLink && (\r\n                    <a \r\n                      href={activity.mapLink} \r\n                      target=\"_blank\" \r\n                      rel=\"noopener noreferrer\"\r\n                      onClick={(e) => e.stopPropagation()}\r\n                      className={`text-sm mt-1 flex items-center ${theme.highlight}`}\r\n                    >\r\n                      <MapPin className=\"w-4 h-4 mr-1\" />\r\n                      在 Google 地圖中開啟\r\n                      <ExternalLink className=\"w-3 h-3 ml-1\" />\r\n                    </a>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              \r\n              {/* 展開後顯示的詳細資訊 */}\r\n              {expandedActivity === index && (\r\n                <div className=\"mt-4 pl-8\">\r\n                  <div className=\"grid grid-cols-1 gap-4\">\r\n                    \r\n                    <div>\r\n                      {activity.description && (\r\n                        <p className=\"mb-3\">{activity.description}</p>\r\n                      )}\r\n                      \r\n                      {Array.isArray(activity.details) ? (\r\n                        <div>\r\n                          <h4 className={`text-sm font-medium ${theme.highlight} mb-1`}>詳細資訊</h4>\r\n                          <ul className={`list-disc list-inside space-y-1 text-sm ${theme.secondaryText}`}>\r\n                            {activity.details.map((detail, i) => (\r\n                              <li key={i}>{detail}</li>\r\n                            ))}\r\n                          </ul>\r\n                        </div>\r\n                      ) : activity.details ? (\r\n                        <div>\r\n                          <h4 className={`text-sm font-medium ${theme.highlight} mb-1`}>詳細資訊</h4>\r\n                          <p className={`text-sm ${theme.secondaryText}`}>{activity.details}</p>\r\n                        </div>\r\n                      ) : null}\r\n                      \r\n                      {activity.notes && (\r\n                        <div className={`mt-3 p-2 rounded-lg ${theme.darkMode ? 'bg-amber-900 bg-opacity-20' : 'bg-amber-50'}`}>\r\n                          <div className=\"flex items-start gap-2\">\r\n                            <AlertCircle className={`w-4 h-4 ${theme.darkMode ? 'text-amber-300' : 'text-amber-500'} mt-0.5 flex-shrink-0`} />\r\n                            <p className=\"text-sm\">{activity.notes}</p>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                      \r\n                      {activity.transportTips && activity.transportTips.length > 0 && (\r\n                        <div className=\"mt-3\">\r\n                          <h4 className={`text-sm font-medium ${theme.highlight} mb-1`}>交通提示</h4>\r\n                          <ul className={`list-disc list-inside space-y-1 text-sm ${theme.secondaryText}`}>\r\n                            {activity.transportTips.map((tip, i) => (\r\n                              <li key={i}>{tip}</li>\r\n                            ))}\r\n                          </ul>\r\n                        </div>\r\n                      )}\r\n                      \r\n                      {activity.coordinates && (\r\n                        <button \r\n                          className={`mt-3 px-4 py-2 ${theme.button} text-white rounded flex items-center gap-2 text-sm`}\r\n                          onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            setLocalSelectedMarker(activity.coordinates);\r\n                            setSelectedMarker(activity.coordinates);\r\n                            // 滾動到地圖\r\n                            document.querySelector('.map-section')?.scrollIntoView({behavior: 'smooth'});\r\n                          }}\r\n                        >\r\n                          <MapPin className=\"w-4 h-4\" />\r\n                          <span>在地圖中顯示</span>\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Tips Section */}\r\n      {daysData[selectedDay - 1]?.tips && daysData[selectedDay - 1]?.tips.length > 0 && (\r\n        <div className={`mb-6 ${theme.cardBg} rounded-xl p-4 ${theme.cardBorder}`}>\r\n          <div \r\n            className=\"flex items-center justify-between cursor-pointer\"\r\n            onClick={() => setExpandedTips(!expandedTips)}\r\n          >\r\n            <div className=\"flex items-center gap-2\">\r\n              <Coffee className={`w-5 h-5 ${theme.highlight}`} />\r\n              <h3 className=\"text-lg font-semibold\">旅行小提示</h3>\r\n            </div>\r\n            <div className={`p-1 rounded-full ${theme.darkMode ? 'bg-blue-800' : 'bg-blue-100'}`}>\r\n              {expandedTips ? (\r\n                <span className=\"block w-5 h-5 text-center\">-</span>\r\n              ) : (\r\n                <span className=\"block w-5 h-5 text-center\">+</span>\r\n              )}\r\n            </div>\r\n          </div>\r\n          \r\n          {expandedTips && (\r\n            <div className=\"mt-3 pl-7\">\r\n              <ul className=\"space-y-2\">\r\n                {daysData[selectedDay - 1].tips.map((tip, index) => (\r\n                  <li key={index} className=\"flex items-start gap-2\">\r\n                    <div className={`${theme.darkMode ? 'text-blue-300' : 'text-blue-500'} mt-1`}>•</div>\r\n                    <p className=\"text-sm\">{tip}</p>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Accommodation Section */}\r\n      {daysData[selectedDay - 1]?.accommodation && (\r\n        <div className={`mb-6 ${theme.cardBg} rounded-xl p-4 ${theme.cardBorder}`}>\r\n          <div \r\n            className=\"flex items-center justify-between cursor-pointer\"\r\n            onClick={() => setExpandedAccommodation(!expandedAccommodation)}\r\n          >\r\n            <div className=\"flex items-center gap-2\">\r\n              <Home className={`w-5 h-5 ${theme.highlight}`} />\r\n              <h3 className=\"text-lg font-semibold\">住宿資訊</h3>\r\n            </div>\r\n            <div className={`p-1 rounded-full ${theme.darkMode ? 'bg-blue-800' : 'bg-blue-100'}`}>\r\n              {expandedAccommodation ? (\r\n                <span className=\"block w-5 h-5 text-center\">-</span>\r\n              ) : (\r\n                <span className=\"block w-5 h-5 text-center\">+</span>\r\n              )}\r\n            </div>\r\n          </div>\r\n          \r\n          {expandedAccommodation && (\r\n            <div className=\"mt-3 pl-7\">\r\n              <div className=\"space-y-2\">\r\n                <p className=\"font-medium\">{daysData[selectedDay - 1].accommodation.name}</p>\r\n                <p className=\"text-sm\">{daysData[selectedDay - 1].accommodation.address}</p>\r\n                \r\n                {/* Accommodation coordinates used for map but not displayed */}\r\n                \r\n                {daysData[selectedDay - 1].accommodation.transport && (\r\n                  <p className={`text-sm ${theme.secondaryText} flex items-center`}>\r\n                    <Car className=\"w-4 h-4 mr-1\" />\r\n                    {daysData[selectedDay - 1].accommodation.transport}\r\n                  </p>\r\n                )}\r\n                \r\n                {daysData[selectedDay - 1].accommodation.mapLink && (\r\n                  <a \r\n                    href={daysData[selectedDay - 1].accommodation.mapLink} \r\n                    target=\"_blank\" \r\n                    rel=\"noopener noreferrer\" \r\n                    className={`text-sm flex items-center ${theme.highlight}`}\r\n                  >\r\n                    <MapPin className=\"w-4 h-4 mr-1\" />\r\n                    在 Google 地圖中開啟\r\n                    <ExternalLink className=\"w-3 h-3 ml-1\" />\r\n                  </a>\r\n                )}\r\n                \r\n                {daysData[selectedDay - 1].accommodation.coordinates && (\r\n                  <button \r\n                    className={`mt-2 px-4 py-2 ${theme.button} text-white rounded flex items-center gap-2 text-sm`}\r\n                    onClick={() => {\r\n                      setLocalSelectedMarker(daysData[selectedDay - 1].accommodation.coordinates);\r\n                      setSelectedMarker(daysData[selectedDay - 1].accommodation.coordinates);\r\n                      // 滾動到地圖\r\n                      document.querySelector('.map-section')?.scrollIntoView({behavior: 'smooth'});\r\n                    }}\r\n                  >\r\n                    <MapPin className=\"w-4 h-4\" />\r\n                    <span>在地圖中顯示住宿地點</span>\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Map section */}\r\n      <div className=\"overflow-hidden rounded-xl shadow-lg map-section\">\r\n        {selectedDayLocations.length > 0 ? (\r\n          <div className=\"relative\">\r\n            <div className={`absolute top-0 left-0 right-0 z-10 ${theme.darkMode ? 'bg-gradient-to-b from-blue-900 to-transparent' : 'bg-gradient-to-b from-white to-transparent'} h-8 opacity-70`}></div>\r\n            {process.env.REACT_APP_GOOGLE_MAPS_API_KEY ? (\r\n              <MapComponent \r\n                locations={selectedDayLocations} \r\n                selectedMarker={selectedMarker}\r\n                setSelectedMarker={(marker) => {\r\n                  setLocalSelectedMarker(marker);\r\n                  setSelectedMarker(marker);\r\n                }}\r\n                darkMode={theme.darkMode}\r\n                theme={theme}\r\n                getActivityForLocation={getActivityForLocation}\r\n              />\r\n            ) : (\r\n              <FallbackMapComponent \r\n                locations={selectedDayLocations}\r\n                days={daysData}\r\n                selectedDay={selectedDay}\r\n                darkMode={theme.darkMode}\r\n                theme={theme}\r\n                selectedMarker={selectedMarker}\r\n              />\r\n            )}\r\n            <div className={`absolute bottom-0 left-0 right-0 z-10 ${theme.darkMode ? 'bg-gradient-to-t from-blue-900 to-transparent' : 'bg-gradient-to-t from-white to-transparent'} h-8 opacity-70`}></div>\r\n          </div>\r\n        ) : (\r\n          <div className={`${theme.darkMode ? 'bg-blue-800 bg-opacity-30' : 'bg-blue-50'} h-64 flex items-center justify-center`}>\r\n            <p>此日期無地圖標記點</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* 注意事項 */}\r\n      <div className=\"mt-8 bg-white bg-opacity-10 backdrop-blur-md rounded-lg shadow-lg p-6\">\r\n        <div className=\"flex items-center gap-2 mb-4\">\r\n          <AlertCircle className={`w-6 h-6 ${theme.darkMode ? 'text-yellow-300' : 'text-yellow-600'}`} />\r\n          <h3 className=\"text-xl font-semibold\">注意事項</h3>\r\n        </div>\r\n        <ul className=\"space-y-2\">\r\n          <li className=\"flex items-start gap-2\">\r\n            <span className={theme.darkMode ? 'text-yellow-300' : 'text-yellow-600'}>•</span>\r\n            <span>以上時間皆為預估，實際情況可能因交通、天氣、個人步調等因素有所差異。</span>\r\n          </li>\r\n          <li className=\"flex items-start gap-2\">\r\n            <span className={theme.darkMode ? 'text-yellow-300' : 'text-yellow-600'}>•</span>\r\n            <span>冬季冰島天氣多變，行前請務必關注天氣預報及路況資訊，並預留更充裕的交通時間。</span>\r\n          </li>\r\n          <li className=\"flex items-start gap-2\">\r\n            <span className={theme.darkMode ? 'text-yellow-300' : 'text-yellow-600'}>•</span>\r\n            <span>景點停留時間為綜合網路資訊及一般遊客經驗所建議的參考時長，您可以依照個人興趣及行程彈性調整。</span>\r\n          </li>\r\n          <li className=\"flex items-start gap-2\">\r\n            <span className={theme.darkMode ? 'text-yellow-300' : 'text-yellow-600'}>•</span>\r\n            <span>冰島緊急電話：112。下載冰島112官方應用程式，可在緊急情況下快速求助。</span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EnhancedItinerary;"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,QAAQ,CAAEC,MAAM,CAAEC,GAAG,CAAEC,MAAM,CAAEC,KAAK,CAAEC,YAAY,CAAEC,UAAU,CAAEC,WAAW,CAAEC,MAAM,CAAEC,IAAI,CAAEC,GAAG,CAAEC,IAAI,KAAQ,cAAc,CACnI,MAAO,CAAAC,YAAY,EAAIC,oBAAoB,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEpE,KAAM,CAAAC,iBAAiB,CAAGC,IAAA,EAAkC,KAAAC,SAAA,CAAAC,UAAA,CAAAC,UAAA,CAAAC,UAAA,CAAAC,UAAA,CAAAC,UAAA,CAAAC,UAAA,CAAAC,UAAA,IAAjC,CAAEC,KAAK,CAAEC,iBAAkB,CAAC,CAAAV,IAAA,CACrD,KAAM,CAACW,WAAW,CAAEC,cAAc,CAAC,CAAGlC,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAACmC,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGpC,QAAQ,CAAC,IAAI,CAAC,CAC9D,KAAM,CAACqC,YAAY,CAAEC,eAAe,CAAC,CAAGtC,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAACuC,qBAAqB,CAAEC,wBAAwB,CAAC,CAAGxC,QAAQ,CAAC,KAAK,CAAC,CACzE,KAAM,CAACyC,cAAc,CAAEC,sBAAsB,CAAC,CAAG1C,QAAQ,CAAC,IAAI,CAAC,CAE/D;AACA,KAAM,CAAA2C,QAAQ,CAAG,CACf,CACEC,IAAI,CAAE,SAAS,CACfC,KAAK,CAAE,MAAM,CACbC,OAAO,CAAE,OAAO,CAChBC,MAAM,CAAE,OAAO,CACfC,UAAU,CAAE,CACV,CACEC,IAAI,CAAE,MAAM,CACZC,IAAI,CAAE,OAAO,CACbC,QAAQ,CAAE,iDAAiD,CAC3DC,WAAW,CAAE,CAAEC,GAAG,CAAE,MAAM,CAAEC,GAAG,CAAE,CAAC,MAAO,CAAC,CAC1CC,OAAO,CAAE,2CAA2C,CACpDC,KAAK,CAAE,0BAA0B,CACjCC,WAAW,CAAE,kCAAkC,CAC/CC,aAAa,CAAE,CACb,mDAAmD,CACnD,0BAA0B,CAC1B,wBAAwB,CACzB,CACDC,KAAK,CAAE,2BACT,CAAC,CACF,CACDC,IAAI,CAAE,CACJ,4CAA4C,CAC7C,CACDC,aAAa,CAAE,CACbC,IAAI,CAAE,eAAe,CACrBC,OAAO,CAAE,oCAAoC,CAC7CX,WAAW,CAAE,CAAEC,GAAG,CAAE,OAAO,CAAEC,GAAG,CAAE,CAAC,OAAQ,CAAC,CAC5CC,OAAO,CAAE,2CACX,CACF,CAAC,CACD,CACEX,IAAI,CAAE,SAAS,CACfC,KAAK,CAAE,SAAS,CAChBC,OAAO,CAAE,OAAO,CAChBC,MAAM,CAAE,OAAO,CACfC,UAAU,CAAE,CACV,CACEE,IAAI,CAAE,IAAI,CACVC,QAAQ,CAAE,kBAAkB,CAC5BY,OAAO,CAAE,kCAAkC,CAC3CX,WAAW,CAAE,CAAEC,GAAG,CAAE,OAAO,CAAEC,GAAG,CAAE,CAAC,OAAQ,CAAC,CAC5CC,OAAO,CAAE,2CAA2C,CACpDS,QAAQ,CAAE,UAAU,CACpBC,SAAS,CAAE,yBAAyB,CACpCT,KAAK,CAAE,0BAA0B,CACjCC,WAAW,CAAE,wBAAwB,CACrCE,KAAK,CAAE,wBACT,CAAC,CACD,CACET,IAAI,CAAE,OAAO,CACbD,IAAI,CAAE,IAAI,CACVE,QAAQ,CAAE,iBAAiB,CAC3BC,WAAW,CAAE,CAAEC,GAAG,CAAE,MAAM,CAAEC,GAAG,CAAE,CAAC,MAAO,CAAC,CAC1CC,OAAO,CAAE,2CAA2C,CACpDU,SAAS,CAAE,iCACb,CAAC,CACD,CACEf,IAAI,CAAE,IAAI,CACVC,QAAQ,CAAE,2BAA2B,CACrCY,OAAO,CAAE,kCAAkC,CAC3CX,WAAW,CAAE,CAAEC,GAAG,CAAE,OAAO,CAAEC,GAAG,CAAE,CAAC,OAAQ,CAAC,CAC5CC,OAAO,CAAE,2CAA2C,CACpDU,SAAS,CAAE,wBAAwB,CACnCT,KAAK,CAAE,0BAA0B,CACjCC,WAAW,CAAE,+BAA+B,CAC5CE,KAAK,CAAE,uBACT,CAAC,CACF,CACDC,IAAI,CAAE,CACJ,8BAA8B,CAC9B,2CAA2C,CAC3C,yDAAyD,CAC1D,CACDC,aAAa,CAAE,CACbC,IAAI,CAAE,UAAU,CAChBC,OAAO,CAAE,gCAAgC,CACzCX,WAAW,CAAE,CAAEC,GAAG,CAAE,OAAO,CAAEC,GAAG,CAAE,CAAC,OAAQ,CAAC,CAC5CC,OAAO,CAAE,2CACX,CACF,CAAC,CACD,CACEX,IAAI,CAAE,SAAS,CACfC,KAAK,CAAE,WAAW,CAClBC,OAAO,CAAE,OAAO,CAChBC,MAAM,CAAE,OAAO,CACfC,UAAU,CAAE,CACV,CACEG,QAAQ,CAAE,kBAAkB,CAC5BC,WAAW,CAAE,CAAEC,GAAG,CAAE,KAAK,CAAEC,GAAG,CAAE,CAAC,KAAM,CAAC,CACxCC,OAAO,CAAE,2CAA2C,CACpDS,QAAQ,CAAE,MAAM,CAChBE,OAAO,CAAE,eAAe,CACxBV,KAAK,CAAE,0BAA0B,CACjCC,WAAW,CAAE,kCACf,CAAC,CACD,CACEN,QAAQ,CAAE,eAAe,CACzBC,WAAW,CAAE,CAAEC,GAAG,CAAE,KAAK,CAAEC,GAAG,CAAE,CAAC,KAAM,CAAC,CACxCC,OAAO,CAAE,2CAA2C,CACpDS,QAAQ,CAAE,MAAM,CAChBC,SAAS,CAAE,4BAA4B,CACvCT,KAAK,CAAE,0BAA0B,CACjCC,WAAW,CAAE,8BACf,CAAC,CACD,CACEN,QAAQ,CAAE,qBAAqB,CAC/BC,WAAW,CAAE,CAAEC,GAAG,CAAE,OAAO,CAAEC,GAAG,CAAE,CAAC,OAAQ,CAAC,CAC5CC,OAAO,CAAE,2CAA2C,CACpDS,QAAQ,CAAE,YAAY,CACtBC,SAAS,CAAE,uCAAuC,CAClDT,KAAK,CAAE,0BAA0B,CACjCC,WAAW,CAAE,+BACf,CAAC,CACD,CACEN,QAAQ,CAAE,eAAe,CACzBC,WAAW,CAAE,CAAEC,GAAG,CAAE,OAAO,CAAEC,GAAG,CAAE,CAAC,OAAQ,CAAC,CAC5CC,OAAO,CAAE,2CAA2C,CACpDS,QAAQ,CAAE,UAAU,CACpBC,SAAS,CAAE,wCAAwC,CACnDT,KAAK,CAAE,0BAA0B,CACjCC,WAAW,CAAE,gCACf,CAAC,CACD,CACEN,QAAQ,CAAE,qBAAqB,CAC/BC,WAAW,CAAE,CAAEC,GAAG,CAAE,OAAO,CAAEC,GAAG,CAAE,CAAC,MAAO,CAAC,CAC3CC,OAAO,CAAE,2CAA2C,CACpDS,QAAQ,CAAE,UAAU,CACpBC,SAAS,CAAE,+BAA+B,CAC1CT,KAAK,CAAE,0BAA0B,CACjCC,WAAW,CAAE,mCACf,CAAC,CACD,CACER,IAAI,CAAE,MAAM,CACZE,QAAQ,CAAE,4BAA4B,CACtCC,WAAW,CAAE,CAAEC,GAAG,CAAE,KAAK,CAAEC,GAAG,CAAE,CAAC,OAAQ,CAAC,CAC1CC,OAAO,CAAE,2CAA2C,CACpDS,QAAQ,CAAE,MAAM,CAChBE,OAAO,CAAE,QAAQ,CACjBP,KAAK,CAAE,+BAA+B,CACtCH,KAAK,CAAE,0BAA0B,CACjCC,WAAW,CAAE,6CACf,CAAC,CACF,CACDG,IAAI,CAAE,CACJ,iDAAiD,CACjD,mCAAmC,CACpC,CACDC,aAAa,CAAE,CACbC,IAAI,CAAE,qBAAqB,CAC3BC,OAAO,CAAE,wCAAwC,CACjDX,WAAW,CAAE,CAAEC,GAAG,CAAE,OAAO,CAAEC,GAAG,CAAE,CAAC,OAAQ,CAAC,CAC5CC,OAAO,CAAE,2CAA2C,CACpDU,SAAS,CAAE,2BACb,CACF,CAAC,CACD,CACErB,IAAI,CAAE,SAAS,CACfC,KAAK,CAAE,OAAO,CACdC,OAAO,CAAE,OAAO,CAChBC,MAAM,CAAE,OAAO,CACfC,UAAU,CAAE,CACV,CACEG,QAAQ,CAAE,iBAAiB,CAC3BC,WAAW,CAAE,CAAEC,GAAG,CAAE,OAAO,CAAEC,GAAG,CAAE,CAAC,OAAQ,CAAC,CAC5CC,OAAO,CAAE,2CAA2C,CACpDS,QAAQ,CAAE,QAAQ,CAClBC,SAAS,CAAE,qCAAqC,CAChDC,OAAO,CAAE,aAAa,CACtBV,KAAK,CAAE,0BAA0B,CACjCC,WAAW,CAAE,6DACf,CAAC,CACD,CACEN,QAAQ,CAAE,YAAY,CACtBC,WAAW,CAAE,CAAEC,GAAG,CAAE,OAAO,CAAEC,GAAG,CAAE,CAAC,OAAQ,CAAC,CAC5CC,OAAO,CAAE,2CAA2C,CACpDS,QAAQ,CAAE,UAAU,CACpBC,SAAS,CAAE,8BAA8B,CACzCC,OAAO,CAAE,SAAS,CAClBV,KAAK,CAAE,0BAA0B,CACjCC,WAAW,CAAE,wDACf,CAAC,CACD,CACEN,QAAQ,CAAE,aAAa,CACvBC,WAAW,CAAE,CAAEC,GAAG,CAAE,OAAO,CAAEC,GAAG,CAAE,CAAC,OAAQ,CAAC,CAC5CC,OAAO,CAAE,2CAA2C,CACpDS,QAAQ,CAAE,UAAU,CACpBC,SAAS,CAAE,6BAA6B,CACxCC,OAAO,CAAE,QAAQ,CACjBV,KAAK,CAAE,0BAA0B,CACjCC,WAAW,CAAE,4DACf,CAAC,CACD,CACEN,QAAQ,CAAE,WAAW,CACrBC,WAAW,CAAE,CAAEC,GAAG,CAAE,OAAO,CAAEC,GAAG,CAAE,CAAC,OAAQ,CAAC,CAC5CC,OAAO,CAAE,2CAA2C,CACpDS,QAAQ,CAAE,QAAQ,CAClBC,SAAS,CAAE,oCAAoC,CAC/CC,OAAO,CAAE,aAAa,CACtBP,KAAK,CAAE,oCAAoC,CAC3CH,KAAK,CAAE,0BAA0B,CACjCC,WAAW,CAAE,mCACf,CAAC,CACF,CACDG,IAAI,CAAE,CACJ,+CAA+C,CAC/C,iDAAiD,CAClD,CACDC,aAAa,CAAE,CACbC,IAAI,CAAE,YAAY,CAClBC,OAAO,CAAE,+BAA+B,CACxCX,WAAW,CAAE,CAAEC,GAAG,CAAE,OAAO,CAAEC,GAAG,CAAE,CAAC,OAAQ,CAAC,CAC5CC,OAAO,CAAE,2CAA2C,CACpDU,SAAS,CAAE,+BACb,CACF,CAAC,CACD,CACErB,IAAI,CAAE,SAAS,CACfC,KAAK,CAAE,UAAU,CACjBC,OAAO,CAAE,OAAO,CAChBC,MAAM,CAAE,OAAO,CACfC,UAAU,CAAE,CACV,CACEG,QAAQ,CAAE,yBAAyB,CACnCC,WAAW,CAAE,CAAEC,GAAG,CAAE,MAAM,CAAEC,GAAG,CAAE,CAAC,MAAO,CAAC,CAC1CU,QAAQ,CAAE,UAAU,CACpBC,SAAS,CAAE,6BAA6B,CACxCC,OAAO,CAAE,SAAS,CAClBV,KAAK,CAAE,0BAA0B,CACjCC,WAAW,CAAE,2CACf,CAAC,CACD,CACEN,QAAQ,CAAE,mBAAmB,CAC7BC,WAAW,CAAE,CAAEC,GAAG,CAAE,MAAM,CAAEC,GAAG,CAAE,CAAC,MAAO,CAAC,CAC1CU,QAAQ,CAAE,UAAU,CACpBC,SAAS,CAAE,wBAAwB,CACnCC,OAAO,CAAE,cAAc,CACvBV,KAAK,CAAE,0BAA0B,CACjCC,WAAW,CAAE,gEACf,CAAC,CACD,CACEN,QAAQ,CAAE,eAAe,CACzBC,WAAW,CAAE,CAAEC,GAAG,CAAE,OAAO,CAAEC,GAAG,CAAE,CAAC,OAAQ,CAAC,CAC5CC,OAAO,CAAE,2CAA2C,CACpDS,QAAQ,CAAE,MAAM,CAChBC,SAAS,CAAE,kCAAkC,CAC7CC,OAAO,CAAE,WAAW,CACpBV,KAAK,CAAE,0BAA0B,CACjCC,WAAW,CAAE,qCACf,CAAC,CACD,CACEN,QAAQ,CAAE,qBAAqB,CAC/BC,WAAW,CAAE,CAAEC,GAAG,CAAE,MAAM,CAAEC,GAAG,CAAE,CAAC,MAAO,CAAC,CAC1CU,QAAQ,CAAE,UAAU,CACpBC,SAAS,CAAE,uBAAuB,CAClCC,OAAO,CAAE,YAAY,CACrBV,KAAK,CAAE,0BAA0B,CACjCC,WAAW,CAAE,qCACf,CAAC,CACD,CACEN,QAAQ,CAAE,iBAAiB,CAC3BC,WAAW,CAAE,CAAEC,GAAG,CAAE,OAAO,CAAEC,GAAG,CAAE,CAAC,OAAQ,CAAC,CAC5CC,OAAO,CAAE,2CAA2C,CACpDS,QAAQ,CAAE,MAAM,CAChBC,SAAS,CAAE,iCAAiC,CAC5CC,OAAO,CAAE,SAAS,CAClBV,KAAK,CAAE,0BAA0B,CACjCC,WAAW,CAAE,+BACf,CAAC,CACF,CACDG,IAAI,CAAE,CACJ,qCAAqC,CACrC,wCAAwC,CACxC,sCAAsC,CACvC,CACDC,aAAa,CAAE,CACbC,IAAI,CAAE,mBAAmB,CACzBC,OAAO,CAAE,gCAAgC,CACzCX,WAAW,CAAE,CAAEC,GAAG,CAAE,OAAO,CAAEC,GAAG,CAAE,CAAC,OAAQ,CAAC,CAC5CC,OAAO,CAAE,2CACX,CACF,CAAC,CACD,CACEX,IAAI,CAAE,SAAS,CACfC,KAAK,CAAE,SAAS,CAChBC,OAAO,CAAE,OAAO,CAChBC,MAAM,CAAE,OAAO,CACfC,UAAU,CAAE,CACV,CACEG,QAAQ,CAAE,+BAA+B,CACzCC,WAAW,CAAE,CAAEC,GAAG,CAAE,OAAO,CAAEC,GAAG,CAAE,CAAC,OAAQ,CAAC,CAC5CC,OAAO,CAAE,2CAA2C,CACpDS,QAAQ,CAAE,MAAM,CAChBC,SAAS,CAAE,yBAAyB,CACpCC,OAAO,CAAE,UAAU,CACnBV,KAAK,CAAE,0BAA0B,CACjCC,WAAW,CAAE,sCACf,CAAC,CACD,CACEN,QAAQ,CAAE,mBAAmB,CAC7BC,WAAW,CAAE,CAAEC,GAAG,CAAE,OAAO,CAAEC,GAAG,CAAE,CAAC,OAAQ,CAAC,CAC5CC,OAAO,CAAE,2CAA2C,CACpDS,QAAQ,CAAE,QAAQ,CAClBC,SAAS,CAAE,6BAA6B,CACxCC,OAAO,CAAE,WAAW,CACpBV,KAAK,CAAE,0BAA0B,CACjCC,WAAW,CAAE,gCACf,CAAC,CACD,CACEN,QAAQ,CAAE,uBAAuB,CACjCC,WAAW,CAAE,CAAEC,GAAG,CAAE,MAAM,CAAEC,GAAG,CAAE,CAAC,MAAO,CAAC,CAC1CU,QAAQ,CAAE,QAAQ,CAClBC,SAAS,CAAE,6BAA6B,CACxCC,OAAO,CAAE,YAAY,CACrBV,KAAK,CAAE,0BAA0B,CACjCC,WAAW,CAAE,+DACf,CAAC,CACD,CACEN,QAAQ,CAAE,kBAAkB,CAC5BC,WAAW,CAAE,CAAEC,GAAG,CAAE,MAAM,CAAEC,GAAG,CAAE,CAAC,MAAO,CAAC,CAC1CU,QAAQ,CAAE,QAAQ,CAClBC,SAAS,CAAE,kBAAkB,CAC7BC,OAAO,CAAE,cAAc,CACvBV,KAAK,CAAE,0BAA0B,CACjCC,WAAW,CAAE,mDACf,CAAC,CACF,CACDG,IAAI,CAAE,CACJ,+CAA+C,CAC/C,6CAA6C,CAC9C,CACDC,aAAa,CAAE,CACbC,IAAI,CAAE,MAAM,CACZC,OAAO,CAAE,2BAA2B,CACpCX,WAAW,CAAE,CAAEC,GAAG,CAAE,MAAM,CAAEC,GAAG,CAAE,CAAC,MAAO,CAAC,CAC1CC,OAAO,CAAE,2CACX,CACF,CAAC,CACD,CACEX,IAAI,CAAE,SAAS,CACfC,KAAK,CAAE,UAAU,CACjBC,OAAO,CAAE,OAAO,CAChBC,MAAM,CAAE,OAAO,CACfC,UAAU,CAAE,CACV,CACEE,IAAI,CAAE,cAAc,CACpBC,QAAQ,CAAE,wBAAwB,CAClCgB,YAAY,CAAE,mCAAmC,CACjDf,WAAW,CAAE,CAAEC,GAAG,CAAE,KAAK,CAAEC,GAAG,CAAE,CAAC,KAAM,CAAC,CACxCC,OAAO,CAAE,2CAA2C,CACpDU,SAAS,CAAE,iBAAiB,CAC5BC,OAAO,CAAE,gBAAgB,CACzBV,KAAK,CAAE,0BAA0B,CACjCC,WAAW,CAAE,mEAAmE,CAChFE,KAAK,CAAE,cACT,CAAC,CACF,CACDC,IAAI,CAAE,CACJ,qCAAqC,CACrC,2BAA2B,CAC5B,CACDC,aAAa,CAAE,CACbC,IAAI,CAAE,2BAA2B,CACjCC,OAAO,CAAE,gCAAgC,CACzCX,WAAW,CAAE,CAAEC,GAAG,CAAE,KAAK,CAAEC,GAAG,CAAE,CAAC,KAAM,CAAC,CACxCC,OAAO,CAAE,2CAA2C,CACpDU,SAAS,CAAE,kCACb,CACF,CAAC,CACD,CACErB,IAAI,CAAE,SAAS,CACfC,KAAK,CAAE,qBAAqB,CAC5BC,OAAO,CAAE,OAAO,CAChBC,MAAM,CAAE,OAAO,CACfC,UAAU,CAAE,CACV,CACEE,IAAI,CAAE,IAAI,CACVD,IAAI,CAAE,MAAM,CACZE,QAAQ,CAAE,WAAW,CACrBe,OAAO,CAAE,CACP,+EAA+E,CAC/E,4EAA4E,CAC7E,CACDD,SAAS,CAAE,gCAAgC,CAC3CN,KAAK,CAAE,eAAe,CACtBH,KAAK,CAAE,0BAA0B,CACjCC,WAAW,CAAE,uCACf,CAAC,CACD,CACEP,IAAI,CAAE,OAAO,CACbC,QAAQ,CAAE,YAAY,CACtBC,WAAW,CAAE,CAAEC,GAAG,CAAE,OAAO,CAAEC,GAAG,CAAE,CAAC,KAAM,CAAC,CAC1CC,OAAO,CAAE,2CAA2C,CACpDS,QAAQ,CAAE,QAAQ,CAClBC,SAAS,CAAE,wBAAwB,CACnCC,OAAO,CAAE,WAAW,CACpBP,KAAK,CAAE,gBAAgB,CACvBH,KAAK,CAAE,0BAA0B,CACjCC,WAAW,CAAE,qDACf,CAAC,CACF,CACDG,IAAI,CAAE,CACJ,wCAAwC,CACxC,gCAAgC,CACjC,CACDC,aAAa,CAAE,CACbC,IAAI,CAAE,qBAAqB,CAC3BC,OAAO,CAAE,wCAAwC,CACjDX,WAAW,CAAE,CAAEC,GAAG,CAAE,OAAO,CAAEC,GAAG,CAAE,CAAC,OAAQ,CAAC,CAC5CC,OAAO,CAAE,2CACX,CACF,CAAC,CACD,CACEX,IAAI,CAAE,UAAU,CAChBC,KAAK,CAAE,MAAM,CACbC,OAAO,CAAE,OAAO,CAChBC,MAAM,CAAE,OAAO,CACfC,UAAU,CAAE,CACV,CACEE,IAAI,CAAE,OAAO,CACbD,IAAI,CAAE,WAAW,CACjBE,QAAQ,CAAE,iBAAiB,CAC3BC,WAAW,CAAE,CAAEC,GAAG,CAAE,MAAM,CAAEC,GAAG,CAAE,CAAC,MAAO,CAAC,CAC1CC,OAAO,CAAE,2CAA2C,CACpDU,SAAS,CAAE,qBAAqB,CAChCC,OAAO,CAAE,MAAM,CACfP,KAAK,CAAE,2BAA2B,CAClCH,KAAK,CAAE,0BAA0B,CACjCC,WAAW,CAAE,yBACf,CAAC,CACF,CACDG,IAAI,CAAE,CACJ,+BAA+B,CAC/B,gCAAgC,CAChC,sBAAsB,CAE1B,CAAC,CACF,CAED;AACA,KAAM,CAAAQ,oBAAoB,CACxB,EAAA7C,SAAA,CAAAoB,QAAQ,CAACV,WAAW,CAAG,CAAC,CAAC,UAAAV,SAAA,iBAAzBA,SAAA,CAA2ByB,UAAU,CAClCqB,MAAM,CAACC,QAAQ,EAAIA,QAAQ,CAAClB,WAAW,CAAC,CACxCmB,GAAG,CAACD,QAAQ,EAAIA,QAAQ,CAAClB,WAAW,CAAC,GAAI,EAAE,CAEhD,KAAM,CAAAoB,uBAAuB,CAAIC,KAAK,EAAK,CACzC,GAAItC,gBAAgB,GAAKsC,KAAK,CAAE,CAC9BrC,mBAAmB,CAAC,IAAI,CAAC,CAC3B,CAAC,IAAM,CACLA,mBAAmB,CAACqC,KAAK,CAAC,CAC5B,CACF,CAAC,CAED;AACA,KAAM,CAAAC,sBAAsB,CAAIvB,QAAQ,EAAK,KAAAwB,UAAA,CAC3C,OAAAA,UAAA,CAAOhC,QAAQ,CAACV,WAAW,CAAG,CAAC,CAAC,UAAA0C,UAAA,iBAAzBA,UAAA,CAA2B3B,UAAU,CAAC4B,IAAI,CAACN,QAAQ,EACxDA,QAAQ,CAAClB,WAAW,EACpBkB,QAAQ,CAAClB,WAAW,CAACC,GAAG,GAAKF,QAAQ,CAACE,GAAG,EACzCiB,QAAQ,CAAClB,WAAW,CAACE,GAAG,GAAKH,QAAQ,CAACG,GACxC,CAAC,CACH,CAAC,CAED;AACA,KAAM,CAAAuB,iBAAiB,CAAIzB,WAAW,EAAK,CACzC,GAAI,CAACA,WAAW,CAAE,MAAO,EAAE,CAC3B,MAAO,GAAGA,WAAW,CAACC,GAAG,CAACyB,OAAO,CAAC,CAAC,CAAC,OAAO1B,WAAW,CAACE,GAAG,CAACwB,OAAO,CAAC,CAAC,CAAC,IAAI,CAC3E,CAAC,CAED,mBACE5D,KAAA,CAAAE,SAAA,EAAA2D,QAAA,eAEE/D,IAAA,QAAKgE,SAAS,CAAC,2BAA2B,CAAAD,QAAA,cACxC/D,IAAA,QAAKgE,SAAS,CAAC,gBAAgB,CAAAD,QAAA,CAC5BpC,QAAQ,CAAC4B,GAAG,CAAC,CAACU,GAAG,CAAER,KAAK,gBACvBvD,KAAA,WAEEgE,OAAO,CAAEA,CAAA,GAAMhD,cAAc,CAACuC,KAAK,CAAG,CAAC,CAAE,CACzCO,SAAS,CAAE,+DACT/C,WAAW,GAAKwC,KAAK,CAAG,CAAC,CACrB,GAAG1C,KAAK,CAACoD,QAAQ,CAAG,aAAa,CAAG,aAAa,iCAAiC,CAClF,GAAGpD,KAAK,CAACoD,QAAQ,CAAG,4CAA4C,CAAG,2BAA2B,EAAE,EACnG,CAAAJ,QAAA,eAEH/D,IAAA,QAAKgE,SAAS,CAAC,qBAAqB,CAAAD,QAAA,CAAEE,GAAG,CAACrC,IAAI,CAAM,CAAC,cACrD5B,IAAA,QAAKgE,SAAS,CAAC,2BAA2B,CAAAD,QAAA,CAAEE,GAAG,CAACpC,KAAK,CAAM,CAAC,GATvD4B,KAUC,CACT,CAAC,CACC,CAAC,CACH,CAAC,cAGNvD,KAAA,QAAK8D,SAAS,CAAE,QAAQjD,KAAK,CAACqD,MAAM,mBAAmBrD,KAAK,CAACsD,UAAU,EAAG,CAAAN,QAAA,eACxE7D,KAAA,QAAK8D,SAAS,CAAC,8BAA8B,CAAAD,QAAA,eAC3C/D,IAAA,CAACf,QAAQ,EAAC+E,SAAS,CAAE,WAAWjD,KAAK,CAACuD,SAAS,EAAG,CAAE,CAAC,cACrDtE,IAAA,OAAIgE,SAAS,CAAC,uBAAuB,CAAAD,QAAA,EAAAvD,UAAA,CAClCmB,QAAQ,CAACV,WAAW,CAAG,CAAC,CAAC,UAAAT,UAAA,iBAAzBA,UAAA,CAA2BqB,KAAK,CAC/B,CAAC,EACF,CAAC,cACN3B,KAAA,QAAK8D,SAAS,CAAE,wCAAwCjD,KAAK,CAACwD,aAAa,EAAG,CAAAR,QAAA,eAC5E7D,KAAA,QAAK8D,SAAS,CAAC,yBAAyB,CAAAD,QAAA,eACtC/D,IAAA,CAACb,GAAG,EAAC6E,SAAS,CAAE,WAAWjD,KAAK,CAACoD,QAAQ,CAAG,gBAAgB,CAAG,gBAAgB,EAAG,CAAE,CAAC,cACrFjE,KAAA,SAAA6D,QAAA,EAAM,gBAAI,EAAAtD,UAAA,CAACkB,QAAQ,CAACV,WAAW,CAAG,CAAC,CAAC,UAAAR,UAAA,iBAAzBA,UAAA,CAA2BqB,OAAO,EAAO,CAAC,EAClD,CAAC,cACN5B,KAAA,QAAK8D,SAAS,CAAC,yBAAyB,CAAAD,QAAA,eACtC/D,IAAA,CAACZ,MAAM,EAAC4E,SAAS,CAAE,WAAWjD,KAAK,CAACoD,QAAQ,CAAG,gBAAgB,CAAG,gBAAgB,EAAG,CAAE,CAAC,cACxFjE,KAAA,SAAA6D,QAAA,EAAM,gBAAI,EAAArD,UAAA,CAACiB,QAAQ,CAACV,WAAW,CAAG,CAAC,CAAC,UAAAP,UAAA,iBAAzBA,UAAA,CAA2BqB,MAAM,EAAO,CAAC,EACjD,CAAC,EACH,CAAC,EACH,CAAC,cAGN7B,KAAA,QAAK8D,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eAC7B7D,KAAA,OAAI8D,SAAS,CAAE,oDAAqD,CAAAD,QAAA,eAClE/D,IAAA,CAACf,QAAQ,EAAC+E,SAAS,CAAE,WAAWjD,KAAK,CAACuD,SAAS,EAAG,CAAE,CAAC,cACrDtE,IAAA,SAAA+D,QAAA,CAAM,0BAAI,CAAM,CAAC,EACf,CAAC,EAAApD,UAAA,CAEJgB,QAAQ,CAACV,WAAW,CAAG,CAAC,CAAC,UAAAN,UAAA,iBAAzBA,UAAA,CAA2BqB,UAAU,CAACuB,GAAG,CAAC,CAACD,QAAQ,CAAEG,KAAK,gBACzDzD,IAAA,QAAiBgE,SAAS,CAAE,GAAGjD,KAAK,CAACqD,MAAM,mBAAmBrD,KAAK,CAACsD,UAAU,EAAG,CAAAN,QAAA,cAC/E7D,KAAA,QAAA6D,QAAA,eAEE7D,KAAA,QACE8D,SAAS,CAAC,uCAAuC,CACjDE,OAAO,CAAEA,CAAA,GAAMV,uBAAuB,CAACC,KAAK,CAAE,CAAAM,QAAA,eAE9C/D,IAAA,CAACd,MAAM,EAAC8E,SAAS,CAAE,WAAWjD,KAAK,CAACuD,SAAS,qBAAsB,CAAE,CAAC,cACtEpE,KAAA,QAAK8D,SAAS,CAAC,WAAW,CAAAD,QAAA,eACxB7D,KAAA,QAAK8D,SAAS,CAAC,mCAAmC,CAAAD,QAAA,eAChD7D,KAAA,OAAI8D,SAAS,CAAC,uBAAuB,CAAAD,QAAA,EAClCT,QAAQ,CAACpB,IAAI,EAAI,GAAGoB,QAAQ,CAACpB,IAAI,KAAK,CACtCoB,QAAQ,CAACnB,QAAQ,EAAImB,QAAQ,CAACrB,IAAI,EACjC,CAAC,cACLjC,IAAA,QAAKgE,SAAS,CAAE,yBAAyBjD,KAAK,CAACoD,QAAQ,CAAG,aAAa,CAAG,aAAa,EAAG,CAAAJ,QAAA,CACvF5C,gBAAgB,GAAKsC,KAAK,cACzBzD,IAAA,SAAMgE,SAAS,CAAC,2BAA2B,CAAAD,QAAA,CAAC,GAAC,CAAM,CAAC,cAEpD/D,IAAA,SAAMgE,SAAS,CAAC,2BAA2B,CAAAD,QAAA,CAAC,GAAC,CAAM,CACpD,CACE,CAAC,EACH,CAAC,CAGLT,QAAQ,CAACN,QAAQ,eAChB9C,KAAA,MAAG8D,SAAS,CAAE,GAAGjD,KAAK,CAACwD,aAAa,UAAW,CAAAR,QAAA,EAAC,gCACzC,CAACT,QAAQ,CAACN,QAAQ,EACtB,CACJ,CACAM,QAAQ,CAACL,SAAS,eACjB/C,KAAA,MAAG8D,SAAS,CAAE,GAAGjD,KAAK,CAACwD,aAAa,iCAAkC,CAAAR,QAAA,eACpE/D,IAAA,CAACL,GAAG,EAACqE,SAAS,CAAE,uBAAuBjD,KAAK,CAACuD,SAAS,EAAG,CAAE,CAAC,CAC3DhB,QAAQ,CAACL,SAAS,EAClB,CACJ,CAEAK,QAAQ,CAACf,OAAO,eACfrC,KAAA,MACEsE,IAAI,CAAElB,QAAQ,CAACf,OAAQ,CACvBkC,MAAM,CAAC,QAAQ,CACfC,GAAG,CAAC,qBAAqB,CACzBR,OAAO,CAAGS,CAAC,EAAKA,CAAC,CAACC,eAAe,CAAC,CAAE,CACpCZ,SAAS,CAAE,kCAAkCjD,KAAK,CAACuD,SAAS,EAAG,CAAAP,QAAA,eAE/D/D,IAAA,CAACd,MAAM,EAAC8E,SAAS,CAAC,cAAc,CAAE,CAAC,+CAEnC,cAAAhE,IAAA,CAACV,YAAY,EAAC0E,SAAS,CAAC,cAAc,CAAE,CAAC,EACxC,CACJ,EACE,CAAC,EACH,CAAC,CAGL7C,gBAAgB,GAAKsC,KAAK,eACzBzD,IAAA,QAAKgE,SAAS,CAAC,WAAW,CAAAD,QAAA,cACxB/D,IAAA,QAAKgE,SAAS,CAAC,wBAAwB,CAAAD,QAAA,cAErC7D,KAAA,QAAA6D,QAAA,EACGT,QAAQ,CAACb,WAAW,eACnBzC,IAAA,MAAGgE,SAAS,CAAC,MAAM,CAAAD,QAAA,CAAET,QAAQ,CAACb,WAAW,CAAI,CAC9C,CAEAoC,KAAK,CAACC,OAAO,CAACxB,QAAQ,CAACJ,OAAO,CAAC,cAC9BhD,KAAA,QAAA6D,QAAA,eACE/D,IAAA,OAAIgE,SAAS,CAAE,uBAAuBjD,KAAK,CAACuD,SAAS,OAAQ,CAAAP,QAAA,CAAC,0BAAI,CAAI,CAAC,cACvE/D,IAAA,OAAIgE,SAAS,CAAE,2CAA2CjD,KAAK,CAACwD,aAAa,EAAG,CAAAR,QAAA,CAC7ET,QAAQ,CAACJ,OAAO,CAACK,GAAG,CAAC,CAACwB,MAAM,CAAEC,CAAC,gBAC9BhF,IAAA,OAAA+D,QAAA,CAAagB,MAAM,EAAVC,CAAe,CACzB,CAAC,CACA,CAAC,EACF,CAAC,CACJ1B,QAAQ,CAACJ,OAAO,cAClBhD,KAAA,QAAA6D,QAAA,eACE/D,IAAA,OAAIgE,SAAS,CAAE,uBAAuBjD,KAAK,CAACuD,SAAS,OAAQ,CAAAP,QAAA,CAAC,0BAAI,CAAI,CAAC,cACvE/D,IAAA,MAAGgE,SAAS,CAAE,WAAWjD,KAAK,CAACwD,aAAa,EAAG,CAAAR,QAAA,CAAET,QAAQ,CAACJ,OAAO,CAAI,CAAC,EACnE,CAAC,CACJ,IAAI,CAEPI,QAAQ,CAACX,KAAK,eACb3C,IAAA,QAAKgE,SAAS,CAAE,uBAAuBjD,KAAK,CAACoD,QAAQ,CAAG,4BAA4B,CAAG,aAAa,EAAG,CAAAJ,QAAA,cACrG7D,KAAA,QAAK8D,SAAS,CAAC,wBAAwB,CAAAD,QAAA,eACrC/D,IAAA,CAACR,WAAW,EAACwE,SAAS,CAAE,WAAWjD,KAAK,CAACoD,QAAQ,CAAG,gBAAgB,CAAG,gBAAgB,uBAAwB,CAAE,CAAC,cAClHnE,IAAA,MAAGgE,SAAS,CAAC,SAAS,CAAAD,QAAA,CAAET,QAAQ,CAACX,KAAK,CAAI,CAAC,EACxC,CAAC,CACH,CACN,CAEAW,QAAQ,CAACZ,aAAa,EAAIY,QAAQ,CAACZ,aAAa,CAACuC,MAAM,CAAG,CAAC,eAC1D/E,KAAA,QAAK8D,SAAS,CAAC,MAAM,CAAAD,QAAA,eACnB/D,IAAA,OAAIgE,SAAS,CAAE,uBAAuBjD,KAAK,CAACuD,SAAS,OAAQ,CAAAP,QAAA,CAAC,0BAAI,CAAI,CAAC,cACvE/D,IAAA,OAAIgE,SAAS,CAAE,2CAA2CjD,KAAK,CAACwD,aAAa,EAAG,CAAAR,QAAA,CAC7ET,QAAQ,CAACZ,aAAa,CAACa,GAAG,CAAC,CAAC2B,GAAG,CAAEF,CAAC,gBACjChF,IAAA,OAAA+D,QAAA,CAAamB,GAAG,EAAPF,CAAY,CACtB,CAAC,CACA,CAAC,EACF,CACN,CAEA1B,QAAQ,CAAClB,WAAW,eACnBlC,KAAA,WACE8D,SAAS,CAAE,kBAAkBjD,KAAK,CAACoE,MAAM,qDAAsD,CAC/FjB,OAAO,CAAGS,CAAC,EAAK,KAAAS,qBAAA,CACdT,CAAC,CAACC,eAAe,CAAC,CAAC,CACnBlD,sBAAsB,CAAC4B,QAAQ,CAAClB,WAAW,CAAC,CAC5CpB,iBAAiB,CAACsC,QAAQ,CAAClB,WAAW,CAAC,CACvC;AACA,CAAAgD,qBAAA,CAAAC,QAAQ,CAACC,aAAa,CAAC,cAAc,CAAC,UAAAF,qBAAA,iBAAtCA,qBAAA,CAAwCG,cAAc,CAAC,CAACC,QAAQ,CAAE,QAAQ,CAAC,CAAC,CAC9E,CAAE,CAAAzB,QAAA,eAEF/D,IAAA,CAACd,MAAM,EAAC8E,SAAS,CAAC,SAAS,CAAE,CAAC,cAC9BhE,IAAA,SAAA+D,QAAA,CAAM,sCAAM,CAAM,CAAC,EACb,CACT,EACE,CAAC,CACH,CAAC,CACH,CACN,EACE,CAAC,EArHEN,KAsHL,CACN,CAAC,EACC,CAAC,CAGL,EAAA7C,UAAA,CAAAe,QAAQ,CAACV,WAAW,CAAG,CAAC,CAAC,UAAAL,UAAA,iBAAzBA,UAAA,CAA2BgC,IAAI,GAAI,EAAA/B,UAAA,CAAAc,QAAQ,CAACV,WAAW,CAAG,CAAC,CAAC,UAAAJ,UAAA,iBAAzBA,UAAA,CAA2B+B,IAAI,CAACqC,MAAM,EAAG,CAAC,eAC5E/E,KAAA,QAAK8D,SAAS,CAAE,QAAQjD,KAAK,CAACqD,MAAM,mBAAmBrD,KAAK,CAACsD,UAAU,EAAG,CAAAN,QAAA,eACxE7D,KAAA,QACE8D,SAAS,CAAC,kDAAkD,CAC5DE,OAAO,CAAEA,CAAA,GAAM5C,eAAe,CAAC,CAACD,YAAY,CAAE,CAAA0C,QAAA,eAE9C7D,KAAA,QAAK8D,SAAS,CAAC,yBAAyB,CAAAD,QAAA,eACtC/D,IAAA,CAACP,MAAM,EAACuE,SAAS,CAAE,WAAWjD,KAAK,CAACuD,SAAS,EAAG,CAAE,CAAC,cACnDtE,IAAA,OAAIgE,SAAS,CAAC,uBAAuB,CAAAD,QAAA,CAAC,gCAAK,CAAI,CAAC,EAC7C,CAAC,cACN/D,IAAA,QAAKgE,SAAS,CAAE,oBAAoBjD,KAAK,CAACoD,QAAQ,CAAG,aAAa,CAAG,aAAa,EAAG,CAAAJ,QAAA,CAClF1C,YAAY,cACXrB,IAAA,SAAMgE,SAAS,CAAC,2BAA2B,CAAAD,QAAA,CAAC,GAAC,CAAM,CAAC,cAEpD/D,IAAA,SAAMgE,SAAS,CAAC,2BAA2B,CAAAD,QAAA,CAAC,GAAC,CAAM,CACpD,CACE,CAAC,EACH,CAAC,CAEL1C,YAAY,eACXrB,IAAA,QAAKgE,SAAS,CAAC,WAAW,CAAAD,QAAA,cACxB/D,IAAA,OAAIgE,SAAS,CAAC,WAAW,CAAAD,QAAA,CACtBpC,QAAQ,CAACV,WAAW,CAAG,CAAC,CAAC,CAAC2B,IAAI,CAACW,GAAG,CAAC,CAAC2B,GAAG,CAAEzB,KAAK,gBAC7CvD,KAAA,OAAgB8D,SAAS,CAAC,wBAAwB,CAAAD,QAAA,eAChD/D,IAAA,QAAKgE,SAAS,CAAE,GAAGjD,KAAK,CAACoD,QAAQ,CAAG,eAAe,CAAG,eAAe,OAAQ,CAAAJ,QAAA,CAAC,QAAC,CAAK,CAAC,cACrF/D,IAAA,MAAGgE,SAAS,CAAC,SAAS,CAAAD,QAAA,CAAEmB,GAAG,CAAI,CAAC,GAFzBzB,KAGL,CACL,CAAC,CACA,CAAC,CACF,CACN,EACE,CACN,CAGA,EAAA3C,UAAA,CAAAa,QAAQ,CAACV,WAAW,CAAG,CAAC,CAAC,UAAAH,UAAA,iBAAzBA,UAAA,CAA2B+B,aAAa,gBACvC3C,KAAA,QAAK8D,SAAS,CAAE,QAAQjD,KAAK,CAACqD,MAAM,mBAAmBrD,KAAK,CAACsD,UAAU,EAAG,CAAAN,QAAA,eACxE7D,KAAA,QACE8D,SAAS,CAAC,kDAAkD,CAC5DE,OAAO,CAAEA,CAAA,GAAM1C,wBAAwB,CAAC,CAACD,qBAAqB,CAAE,CAAAwC,QAAA,eAEhE7D,KAAA,QAAK8D,SAAS,CAAC,yBAAyB,CAAAD,QAAA,eACtC/D,IAAA,CAACN,IAAI,EAACsE,SAAS,CAAE,WAAWjD,KAAK,CAACuD,SAAS,EAAG,CAAE,CAAC,cACjDtE,IAAA,OAAIgE,SAAS,CAAC,uBAAuB,CAAAD,QAAA,CAAC,0BAAI,CAAI,CAAC,EAC5C,CAAC,cACN/D,IAAA,QAAKgE,SAAS,CAAE,oBAAoBjD,KAAK,CAACoD,QAAQ,CAAG,aAAa,CAAG,aAAa,EAAG,CAAAJ,QAAA,CAClFxC,qBAAqB,cACpBvB,IAAA,SAAMgE,SAAS,CAAC,2BAA2B,CAAAD,QAAA,CAAC,GAAC,CAAM,CAAC,cAEpD/D,IAAA,SAAMgE,SAAS,CAAC,2BAA2B,CAAAD,QAAA,CAAC,GAAC,CAAM,CACpD,CACE,CAAC,EACH,CAAC,CAELxC,qBAAqB,eACpBvB,IAAA,QAAKgE,SAAS,CAAC,WAAW,CAAAD,QAAA,cACxB7D,KAAA,QAAK8D,SAAS,CAAC,WAAW,CAAAD,QAAA,eACxB/D,IAAA,MAAGgE,SAAS,CAAC,aAAa,CAAAD,QAAA,CAAEpC,QAAQ,CAACV,WAAW,CAAG,CAAC,CAAC,CAAC4B,aAAa,CAACC,IAAI,CAAI,CAAC,cAC7E9C,IAAA,MAAGgE,SAAS,CAAC,SAAS,CAAAD,QAAA,CAAEpC,QAAQ,CAACV,WAAW,CAAG,CAAC,CAAC,CAAC4B,aAAa,CAACE,OAAO,CAAI,CAAC,CAI3EpB,QAAQ,CAACV,WAAW,CAAG,CAAC,CAAC,CAAC4B,aAAa,CAACI,SAAS,eAChD/C,KAAA,MAAG8D,SAAS,CAAE,WAAWjD,KAAK,CAACwD,aAAa,oBAAqB,CAAAR,QAAA,eAC/D/D,IAAA,CAACL,GAAG,EAACqE,SAAS,CAAC,cAAc,CAAE,CAAC,CAC/BrC,QAAQ,CAACV,WAAW,CAAG,CAAC,CAAC,CAAC4B,aAAa,CAACI,SAAS,EACjD,CACJ,CAEAtB,QAAQ,CAACV,WAAW,CAAG,CAAC,CAAC,CAAC4B,aAAa,CAACN,OAAO,eAC9CrC,KAAA,MACEsE,IAAI,CAAE7C,QAAQ,CAACV,WAAW,CAAG,CAAC,CAAC,CAAC4B,aAAa,CAACN,OAAQ,CACtDkC,MAAM,CAAC,QAAQ,CACfC,GAAG,CAAC,qBAAqB,CACzBV,SAAS,CAAE,6BAA6BjD,KAAK,CAACuD,SAAS,EAAG,CAAAP,QAAA,eAE1D/D,IAAA,CAACd,MAAM,EAAC8E,SAAS,CAAC,cAAc,CAAE,CAAC,+CAEnC,cAAAhE,IAAA,CAACV,YAAY,EAAC0E,SAAS,CAAC,cAAc,CAAE,CAAC,EACxC,CACJ,CAEArC,QAAQ,CAACV,WAAW,CAAG,CAAC,CAAC,CAAC4B,aAAa,CAACT,WAAW,eAClDlC,KAAA,WACE8D,SAAS,CAAE,kBAAkBjD,KAAK,CAACoE,MAAM,qDAAsD,CAC/FjB,OAAO,CAAEA,CAAA,GAAM,KAAAuB,sBAAA,CACb/D,sBAAsB,CAACC,QAAQ,CAACV,WAAW,CAAG,CAAC,CAAC,CAAC4B,aAAa,CAACT,WAAW,CAAC,CAC3EpB,iBAAiB,CAACW,QAAQ,CAACV,WAAW,CAAG,CAAC,CAAC,CAAC4B,aAAa,CAACT,WAAW,CAAC,CACtE;AACA,CAAAqD,sBAAA,CAAAJ,QAAQ,CAACC,aAAa,CAAC,cAAc,CAAC,UAAAG,sBAAA,iBAAtCA,sBAAA,CAAwCF,cAAc,CAAC,CAACC,QAAQ,CAAE,QAAQ,CAAC,CAAC,CAC9E,CAAE,CAAAzB,QAAA,eAEF/D,IAAA,CAACd,MAAM,EAAC8E,SAAS,CAAC,SAAS,CAAE,CAAC,cAC9BhE,IAAA,SAAA+D,QAAA,CAAM,8DAAU,CAAM,CAAC,EACjB,CACT,EACE,CAAC,CACH,CACN,EACE,CACN,cAGD/D,IAAA,QAAKgE,SAAS,CAAC,kDAAkD,CAAAD,QAAA,CAC9DX,oBAAoB,CAAC6B,MAAM,CAAG,CAAC,cAC9B/E,KAAA,QAAK8D,SAAS,CAAC,UAAU,CAAAD,QAAA,eACvB/D,IAAA,QAAKgE,SAAS,CAAE,sCAAsCjD,KAAK,CAACoD,QAAQ,CAAG,+CAA+C,CAAG,4CAA4C,iBAAkB,CAAM,CAAC,CAC7LuB,OAAO,CAACC,GAAG,CAACC,6BAA6B,cACxC5F,IAAA,CAACH,YAAY,EACXgG,SAAS,CAAEzC,oBAAqB,CAChC3B,cAAc,CAAEA,cAAe,CAC/BT,iBAAiB,CAAG8E,MAAM,EAAK,CAC7BpE,sBAAsB,CAACoE,MAAM,CAAC,CAC9B9E,iBAAiB,CAAC8E,MAAM,CAAC,CAC3B,CAAE,CACF3B,QAAQ,CAAEpD,KAAK,CAACoD,QAAS,CACzBpD,KAAK,CAAEA,KAAM,CACb2C,sBAAsB,CAAEA,sBAAuB,CAChD,CAAC,cAEF1D,IAAA,CAACF,oBAAoB,EACnB+F,SAAS,CAAEzC,oBAAqB,CAChC2C,IAAI,CAAEpE,QAAS,CACfV,WAAW,CAAEA,WAAY,CACzBkD,QAAQ,CAAEpD,KAAK,CAACoD,QAAS,CACzBpD,KAAK,CAAEA,KAAM,CACbU,cAAc,CAAEA,cAAe,CAChC,CACF,cACDzB,IAAA,QAAKgE,SAAS,CAAE,yCAAyCjD,KAAK,CAACoD,QAAQ,CAAG,+CAA+C,CAAG,4CAA4C,iBAAkB,CAAM,CAAC,EAC9L,CAAC,cAENnE,IAAA,QAAKgE,SAAS,CAAE,GAAGjD,KAAK,CAACoD,QAAQ,CAAG,2BAA2B,CAAG,YAAY,wCAAyC,CAAAJ,QAAA,cACrH/D,IAAA,MAAA+D,QAAA,CAAG,wDAAS,CAAG,CAAC,CACb,CACN,CACE,CAAC,cAGN7D,KAAA,QAAK8D,SAAS,CAAC,uEAAuE,CAAAD,QAAA,eACpF7D,KAAA,QAAK8D,SAAS,CAAC,8BAA8B,CAAAD,QAAA,eAC3C/D,IAAA,CAACR,WAAW,EAACwE,SAAS,CAAE,WAAWjD,KAAK,CAACoD,QAAQ,CAAG,iBAAiB,CAAG,iBAAiB,EAAG,CAAE,CAAC,cAC/FnE,IAAA,OAAIgE,SAAS,CAAC,uBAAuB,CAAAD,QAAA,CAAC,0BAAI,CAAI,CAAC,EAC5C,CAAC,cACN7D,KAAA,OAAI8D,SAAS,CAAC,WAAW,CAAAD,QAAA,eACvB7D,KAAA,OAAI8D,SAAS,CAAC,wBAAwB,CAAAD,QAAA,eACpC/D,IAAA,SAAMgE,SAAS,CAAEjD,KAAK,CAACoD,QAAQ,CAAG,iBAAiB,CAAG,iBAAkB,CAAAJ,QAAA,CAAC,QAAC,CAAM,CAAC,cACjF/D,IAAA,SAAA+D,QAAA,CAAM,8MAAkC,CAAM,CAAC,EAC7C,CAAC,cACL7D,KAAA,OAAI8D,SAAS,CAAC,wBAAwB,CAAAD,QAAA,eACpC/D,IAAA,SAAMgE,SAAS,CAAEjD,KAAK,CAACoD,QAAQ,CAAG,iBAAiB,CAAG,iBAAkB,CAAAJ,QAAA,CAAC,QAAC,CAAM,CAAC,cACjF/D,IAAA,SAAA+D,QAAA,CAAM,sOAAsC,CAAM,CAAC,EACjD,CAAC,cACL7D,KAAA,OAAI8D,SAAS,CAAC,wBAAwB,CAAAD,QAAA,eACpC/D,IAAA,SAAMgE,SAAS,CAAEjD,KAAK,CAACoD,QAAQ,CAAG,iBAAiB,CAAG,iBAAkB,CAAAJ,QAAA,CAAC,QAAC,CAAM,CAAC,cACjF/D,IAAA,SAAA+D,QAAA,CAAM,sRAA8C,CAAM,CAAC,EACzD,CAAC,cACL7D,KAAA,OAAI8D,SAAS,CAAC,wBAAwB,CAAAD,QAAA,eACpC/D,IAAA,SAAMgE,SAAS,CAAEjD,KAAK,CAACoD,QAAQ,CAAG,iBAAiB,CAAG,iBAAkB,CAAAJ,QAAA,CAAC,QAAC,CAAM,CAAC,cACjF/D,IAAA,SAAA+D,QAAA,CAAM,kMAAqC,CAAM,CAAC,EAChD,CAAC,EACH,CAAC,EACF,CAAC,EACN,CAAC,CAEP,CAAC,CAED,cAAe,CAAA1D,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}